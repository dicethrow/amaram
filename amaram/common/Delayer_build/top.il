# Automatically generated by Amaranth 0.4.dev7+g02364a4. Do not edit.
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.i_button_ffsync"
module \i_button_ffsync
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 1 \i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 2 \i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 3 \i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 4 \i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 5 \i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 6 \i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 input 7 \i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 8 \i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 9 \i_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 10 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 output 11 \i_buttons__right
  attribute \init 7'0000000
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \i_unsync_buttons__right \i_unsync_buttons__left \i_unsync_buttons__down \i_unsync_buttons__up \i_unsync_buttons__fireB \i_unsync_buttons__fireA \i_unsync_buttons__pwr }
  end
  attribute \init 7'0000000
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_buttons__down
  process $group_2
    assign \i_buttons__pwr 1'0
    assign \i_buttons__fireA 1'0
    assign \i_buttons__fireB 1'0
    assign \i_buttons__up 1'0
    assign \i_buttons__down 1'0
    assign \i_buttons__left 1'0
    assign \i_buttons__right 1'0
    assign { \i_buttons__right \i_buttons__left \i_buttons__down \i_buttons__up \i_buttons__fireB \i_buttons__fireA \i_buttons__pwr } \stage1
  end
  cell $dff $1
    parameter \CLK_POLARITY 1
    parameter \WIDTH 7
    connect \CLK \clk
    connect \D \stage0$next
    connect \Q \stage0
  end
  cell $dff $2
    parameter \CLK_POLARITY 1
    parameter \WIDTH 7
    connect \CLK \clk
    connect \D \stage1$next
    connect \Q \stage1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb.delayer"
module \delayer
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 1 \rst
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 output 2 \ui__done
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 \ui__done$next
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 output 3 \ui__inactive
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 \ui__inactive$next
  attribute \src "amaram/common/Delayer.py:79"
  wire width 12 input 4 \ui__load
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:137"
  wire width 1 \_ui__done
  attribute \src "amaram/common/Delayer.py:137"
  wire width 1 \_ui__done$next
  process $group_0
    assign \ui__done$next \ui__done
    assign \ui__done$next \_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__done$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:137"
  wire width 1 \_ui__inactive
  attribute \src "amaram/common/Delayer.py:137"
  wire width 1 \_ui__inactive$next
  process $group_1
    assign \ui__inactive$next \ui__inactive
    assign \ui__inactive$next \_ui__inactive
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__inactive$next 1'0
    end
  end
  attribute \init 12'000000000000
  attribute \src "amaram/common/Delayer.py:137"
  wire width 12 \_ui__load
  attribute \src "amaram/common/Delayer.py:137"
  wire width 12 \_ui__load$next
  process $group_2
    assign \_ui__load$next \_ui__load
    assign \_ui__load$next \ui__load
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__load$next 12'000000000000
    end
  end
  attribute \init 12'000000000000
  attribute \src "amaram/common/Delayer.py:144"
  wire width 12 \countdown
  attribute \src "amaram/common/Delayer.py:144"
  wire width 12 \countdown$next
  attribute \src "amaram/common/Delayer.py:148"
  wire width 13 $1
  attribute \src "amaram/common/Delayer.py:148"
  wire width 13 $2
  attribute \src "amaram/common/Delayer.py:148"
  cell $sub $3
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 13
    connect \A \countdown
    connect \B 1'1
    connect \Y $2
  end
  attribute \src "amaram/common/Delayer.py:144"
  wire width 13 $4
  attribute \src "amaram/common/Delayer.py:144"
  cell $pos $5
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \Y_WIDTH 13
    connect \A \countdown
    connect \Y $4
  end
  attribute \src "amaram/common/Delayer.py:148"
  wire width 13 $6
  attribute \src "amaram/common/Delayer.py:148"
  wire width 1 $7
  attribute \src "amaram/common/Delayer.py:148"
  cell $gt $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \countdown
    connect \B 1'0
    connect \Y $7
  end
  attribute \src "amaram/common/Delayer.py:148"
  cell $mux $9
    parameter \WIDTH 13
    connect \A $4
    connect \B $2
    connect \S $7
    connect \Y $6
  end
  connect $1 $6
  attribute \src "amaram/common/Delayer.py:154"
  wire width 1 $10
  attribute \src "amaram/common/Delayer.py:154"
  cell $ne $11
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_ui__load
    connect \B 1'0
    connect \Y $10
  end
  process $group_3
    assign \countdown$next \countdown
    assign \countdown$next $1 [11:0]
    attribute \src "amaram/common/Delayer.py:154"
    switch { $10 }
      attribute \src "amaram/common/Delayer.py:154"
      case 1'1
        assign \countdown$next \_ui__load
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \countdown$next 12'000000000000
    end
  end
  attribute \src "amaram/common/Delayer.py:149"
  wire width 1 $12
  attribute \src "amaram/common/Delayer.py:149"
  cell $eq $13
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \countdown
    connect \B 1'1
    connect \Y $12
  end
  process $group_4
    assign \_ui__done$next \_ui__done
    assign \_ui__done$next $12
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__done$next 1'0
    end
  end
  attribute \src "amaram/common/Delayer.py:150"
  wire width 1 $14
  attribute \src "amaram/common/Delayer.py:150"
  cell $eq $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 12
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \countdown
    connect \B 1'0
    connect \Y $14
  end
  process $group_5
    assign \_ui__inactive$next \_ui__inactive
    assign \_ui__inactive$next $14
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__inactive$next 1'0
    end
  end
  cell $dff $16
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__done$next
    connect \Q \ui__done
  end
  cell $dff $17
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__inactive$next
    connect \Q \ui__inactive
  end
  cell $dff $18
    parameter \CLK_POLARITY 1
    parameter \WIDTH 12
    connect \CLK \clk
    connect \D \_ui__load$next
    connect \Q \_ui__load
  end
  cell $dff $19
    parameter \CLK_POLARITY 1
    parameter \WIDTH 12
    connect \CLK \clk
    connect \D \countdown$next
    connect \Q \countdown
  end
  cell $dff $20
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__done$next
    connect \Q \_ui__done
  end
  cell $dff $21
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__inactive$next
    connect \Q \_ui__inactive
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb"
module \tb
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 0 \clk
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 output 1 \ui__tb_fanin_flags__in_start
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \ui__tb_fanin_flags__in_start$next
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 output 2 \ui__tb_fanin_flags__in_done
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \ui__tb_fanin_flags__in_done$next
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 input 3 \ui__tb_fanout_flags__trigger
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 output 4 \ui__done
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \ui__done$next
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 output 5 \ui__inactive
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \ui__inactive$next
  attribute \src "amaram/common/Delayer.py:183"
  wire width 12 input 6 \ui__load
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 input 7 \rst
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 \delayer_ui__done
  attribute \src "amaram/common/Delayer.py:79"
  wire width 1 \delayer_ui__inactive
  attribute \init 12'000000000000
  attribute \src "amaram/common/Delayer.py:79"
  wire width 12 \delayer_ui__load
  attribute \src "amaram/common/Delayer.py:79"
  wire width 12 \delayer_ui__load$next
  cell \delayer \delayer
    connect \clk \clk
    connect \rst \rst
    connect \ui__done \delayer_ui__done
    connect \ui__inactive \delayer_ui__inactive
    connect \ui__load \delayer_ui__load
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanin_flags__in_start
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanin_flags__in_start$next
  process $group_0
    assign \ui__tb_fanin_flags__in_start$next \ui__tb_fanin_flags__in_start
    assign \ui__tb_fanin_flags__in_start$next \_ui__tb_fanin_flags__in_start
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_start$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanin_flags__in_done
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanin_flags__in_done$next
  process $group_1
    assign \ui__tb_fanin_flags__in_done$next \ui__tb_fanin_flags__in_done
    assign \ui__tb_fanin_flags__in_done$next \_ui__tb_fanin_flags__in_done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_done$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanout_flags__trigger
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__tb_fanout_flags__trigger$next
  process $group_2
    assign \_ui__tb_fanout_flags__trigger$next \_ui__tb_fanout_flags__trigger
    assign \_ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__done
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__done$next
  process $group_3
    assign \ui__done$next \ui__done
    assign \ui__done$next \_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__done$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__inactive
  attribute \src "amaram/common/Delayer.py:192"
  wire width 1 \_ui__inactive$next
  process $group_4
    assign \ui__inactive$next \ui__inactive
    assign \ui__inactive$next \_ui__inactive
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__inactive$next 1'0
    end
  end
  attribute \init 12'000000000000
  attribute \src "amaram/common/Delayer.py:192"
  wire width 12 \_ui__load
  attribute \src "amaram/common/Delayer.py:192"
  wire width 12 \_ui__load$next
  attribute \init 2'10
  attribute \src "amaram/common/Delayer.py:255"
  wire width 2 \fsm_state
  attribute \src "amaram/common/Delayer.py:255"
  wire width 2 \fsm_state$next
  attribute \init 2'00
  attribute \src "amaram/common/Delayer.py:108"
  wire width 2 \delay_fsm_state
  attribute \src "amaram/common/Delayer.py:108"
  wire width 2 \delay_fsm_state$next
  process $group_5
    assign \_ui__load$next \_ui__load
    assign \_ui__load$next \ui__load
    attribute \src "amaram/common/Delayer.py:255"
    switch \fsm_state
      attribute \src "amaram/common/Delayer.py:262"
      attribute \amaranth.decoding "INITIAL/2"
      case 2'10
      attribute \src "amaram/common/Delayer.py:266"
      attribute \amaranth.decoding "START/0"
      case 2'00
        attribute \src "amaram/common/Delayer.py:108"
        switch \delay_fsm_state
          attribute \src "amaram/common/Delayer.py:109"
          attribute \amaranth.decoding "INIT/0"
          case 2'00
            assign \_ui__load$next 12'100101011000
          attribute \src "amaram/common/Delayer.py:112"
          attribute \amaranth.decoding "LOADED/1"
          case 2'01
            assign \_ui__load$next 12'000000000000
          attribute \src "amaram/common/Delayer.py:115"
          attribute \amaranth.decoding "DONE/2"
          case 2'10
        end
      attribute \src "amaram/common/Delayer.py:270"
      attribute \amaranth.decoding "DONE/1"
      case 2'01
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__load$next 12'000000000000
    end
  end
  process $group_6
    assign \_ui__done$next \_ui__done
    assign \_ui__done$next \delayer_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__done$next 1'0
    end
  end
  process $group_7
    assign \_ui__inactive$next \_ui__inactive
    assign \_ui__inactive$next \delayer_ui__inactive
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__inactive$next 1'0
    end
  end
  process $group_8
    assign \delayer_ui__load$next \delayer_ui__load
    assign \delayer_ui__load$next \_ui__load
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \delayer_ui__load$next 12'000000000000
    end
  end
  attribute \src "amaram/common/Delayer.py:258"
  wire width 1 $1
  attribute \src "amaram/common/Delayer.py:258"
  cell $eq $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'0
    connect \Y $1
  end
  process $group_9
    assign \_ui__tb_fanin_flags__in_start$next \_ui__tb_fanin_flags__in_start
    assign \_ui__tb_fanin_flags__in_start$next $1
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__tb_fanin_flags__in_start$next 1'0
    end
  end
  attribute \src "amaram/common/Delayer.py:259"
  wire width 1 $3
  attribute \src "amaram/common/Delayer.py:259"
  cell $eq $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'1
    connect \Y $3
  end
  process $group_10
    assign \_ui__tb_fanin_flags__in_done$next \_ui__tb_fanin_flags__in_done
    assign \_ui__tb_fanin_flags__in_done$next $3
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \_ui__tb_fanin_flags__in_done$next 1'0
    end
  end
  process $group_11
    assign \fsm_state$next \fsm_state
    attribute \src "amaram/common/Delayer.py:255"
    switch \fsm_state
      attribute \src "amaram/common/Delayer.py:262"
      attribute \amaranth.decoding "INITIAL/2"
      case 2'10
        attribute \src "amaram/common/Delayer.py:263"
        switch { \_ui__tb_fanout_flags__trigger }
          attribute \src "amaram/common/Delayer.py:263"
          case 1'1
            assign \fsm_state$next 2'00
        end
      attribute \src "amaram/common/Delayer.py:266"
      attribute \amaranth.decoding "START/0"
      case 2'00
        attribute \src "amaram/common/Delayer.py:267"
        switch { \_ui__done }
          attribute \src "amaram/common/Delayer.py:267"
          case 1'1
            assign \fsm_state$next 2'01
        end
      attribute \src "amaram/common/Delayer.py:270"
      attribute \amaranth.decoding "DONE/1"
      case 2'01
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \fsm_state$next 2'10
    end
  end
  process $group_12
    assign \delay_fsm_state$next \delay_fsm_state
    attribute \src "amaram/common/Delayer.py:255"
    switch \fsm_state
      attribute \src "amaram/common/Delayer.py:262"
      attribute \amaranth.decoding "INITIAL/2"
      case 2'10
      attribute \src "amaram/common/Delayer.py:266"
      attribute \amaranth.decoding "START/0"
      case 2'00
        attribute \src "amaram/common/Delayer.py:108"
        switch \delay_fsm_state
          attribute \src "amaram/common/Delayer.py:109"
          attribute \amaranth.decoding "INIT/0"
          case 2'00
            assign \delay_fsm_state$next 2'01
          attribute \src "amaram/common/Delayer.py:112"
          attribute \amaranth.decoding "LOADED/1"
          case 2'01
            assign \delay_fsm_state$next 2'10
          attribute \src "amaram/common/Delayer.py:115"
          attribute \amaranth.decoding "DONE/2"
          case 2'10
        end
      attribute \src "amaram/common/Delayer.py:270"
      attribute \amaranth.decoding "DONE/1"
      case 2'01
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \delay_fsm_state$next 2'00
    end
  end
  cell $dff $5
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_start$next
    connect \Q \ui__tb_fanin_flags__in_start
  end
  cell $dff $6
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_done$next
    connect \Q \ui__tb_fanin_flags__in_done
  end
  cell $dff $7
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__tb_fanout_flags__trigger$next
    connect \Q \_ui__tb_fanout_flags__trigger
  end
  cell $dff $8
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__done$next
    connect \Q \ui__done
  end
  cell $dff $9
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__inactive$next
    connect \Q \ui__inactive
  end
  cell $dff $10
    parameter \CLK_POLARITY 1
    parameter \WIDTH 12
    connect \CLK \clk
    connect \D \_ui__load$next
    connect \Q \_ui__load
  end
  cell $dff $11
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__done$next
    connect \Q \_ui__done
  end
  cell $dff $12
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__inactive$next
    connect \Q \_ui__inactive
  end
  cell $dff $13
    parameter \CLK_POLARITY 1
    parameter \WIDTH 12
    connect \CLK \clk
    connect \D \delayer_ui__load$next
    connect \Q \delayer_ui__load
  end
  cell $dff $14
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__tb_fanin_flags__in_start$next
    connect \Q \_ui__tb_fanin_flags__in_start
  end
  cell $dff $15
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \_ui__tb_fanin_flags__in_done$next
    connect \Q \_ui__tb_fanin_flags__in_done
  end
  cell $dff $16
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \clk
    connect \D \fsm_state$next
    connect \Q \fsm_state
  end
  cell $dff $17
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \clk
    connect \D \delay_fsm_state$next
    connect \Q \delay_fsm_state
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_0"
module \pin_led_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  cell \OB \led_0_0
    connect \I \led_0__o
    connect \O \led_0__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_1"
module \pin_led_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_1__io
  cell \OB \led_1_0
    connect \I \led_1__o
    connect \O \led_1__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_2"
module \pin_led_2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_2__io
  cell \OB \led_2_0
    connect \I \led_2__o
    connect \O \led_2__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_3"
module \pin_led_3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_3__io
  cell \OB \led_3_0
    connect \I \led_3__o
    connect \O \led_3__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_4"
module \pin_led_4
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_4__io
  cell \OB \led_4_0
    connect \I \led_4__o
    connect \O \led_4__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_5"
module \pin_led_5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_5__io
  cell \OB \led_5_0
    connect \I \led_5__o
    connect \O \led_5__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_6"
module \pin_led_6
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_6__io
  cell \OB \led_6_0
    connect \I \led_6__o
    connect \O \led_6__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_7"
module \pin_led_7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_7__io
  cell \OB \led_7_0
    connect \I \led_7__o
    connect \O \led_7__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__en"
module \pin_esp32_spi_0__en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__en__io
  cell \OB \esp32_spi_0__en_0
    connect \I \esp32_spi_0__en__o
    connect \O \esp32_spi_0__en__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__tx"
module \pin_esp32_spi_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__tx__io
  cell \OB \esp32_spi_0__tx_0
    connect \I \esp32_spi_0__tx__o
    connect \O \esp32_spi_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__rx"
module \pin_esp32_spi_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__rx__io
  cell \IB \esp32_spi_0__rx_0
    connect \I \esp32_spi_0__rx__io
    connect \O \esp32_spi_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio0"
module \pin_esp32_spi_0__gpio0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 1 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__oe
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio0__oe
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__i
  cell \BB \esp32_spi_0__gpio0_0
    connect \T { $1 }
    connect \I \esp32_spi_0__gpio0__o
    connect \O \esp32_spi_0__gpio0__i
    connect \B \esp32_spi_0__gpio0__io
  end
  connect \esp32_spi_0__gpio0__oe 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio4_copi"
module \pin_esp32_spi_0__gpio4_copi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio4_copi__i
  cell \IB \esp32_spi_0__gpio4_copi_0
    connect \I \esp32_spi_0__gpio4_copi__io
    connect \O \esp32_spi_0__gpio4_copi__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio5_cs"
module \pin_esp32_spi_0__gpio5_cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \esp32_spi_0__gpio5_cs__i_n
  cell \IB \esp32_spi_0__gpio5_cs_0
    connect \I \esp32_spi_0__gpio5_cs__io
    connect \O \esp32_spi_0__gpio5_cs__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio5_cs__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio5_cs__i_n
    connect \Y $1
  end
  process $group_0
    assign \esp32_spi_0__gpio5_cs__i 1'0
    assign \esp32_spi_0__gpio5_cs__i $1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio12_cipo"
module \pin_esp32_spi_0__gpio12_cipo
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 0 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio12_cipo__o
  cell \OB \esp32_spi_0__gpio12_cipo_0
    connect \I \esp32_spi_0__gpio12_cipo__o
    connect \O \esp32_spi_0__gpio12_cipo__io
  end
  connect \esp32_spi_0__gpio12_cipo__o 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio16_sclk"
module \pin_esp32_spi_0__gpio16_sclk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio16_sclk__i
  cell \IB \esp32_spi_0__gpio16_sclk_0
    connect \I \esp32_spi_0__gpio16_sclk__io
    connect \O \esp32_spi_0__gpio16_sclk__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rx"
module \pin_uart_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rx__io
  cell \IB \uart_0__rx_0
    connect \I \uart_0__rx__io
    connect \O \uart_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__tx"
module \pin_uart_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \uart_0__tx__io
  cell \OB \uart_0__tx_0
    connect \I \uart_0__tx__o
    connect \O \uart_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rts"
module \pin_uart_0__rts
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rts__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rts__io
  cell \IB \uart_0__rts_0
    connect \I \uart_0__rts__io
    connect \O \uart_0__rts__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__dtr"
module \pin_uart_0__dtr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__dtr__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__dtr__io
  cell \IB \uart_0__dtr_0
    connect \I \uart_0__dtr__io
    connect \O \uart_0__dtr__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_clk25_0"
module \pin_clk25_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \clk25_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \clk25_0__io
  cell \IB \clk25_0_0
    connect \I \clk25_0__io
    connect \O \clk25_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_pwr_0"
module \pin_button_pwr_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_pwr_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \button_pwr_0__i_n
  cell \IB \button_pwr_0_0
    connect \I \button_pwr_0__io
    connect \O \button_pwr_0__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \button_pwr_0__i_n
    connect \Y $1
  end
  process $group_0
    assign \button_pwr_0__i 1'0
    assign \button_pwr_0__i $1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_0"
module \pin_button_fire_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_0__io
  cell \IB \button_fire_0_0
    connect \I \button_fire_0__io
    connect \O \button_fire_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_1"
module \pin_button_fire_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_1__io
  cell \IB \button_fire_1_0
    connect \I \button_fire_1__io
    connect \O \button_fire_1__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_up_0"
module \pin_button_up_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_up_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_up_0__io
  cell \IB \button_up_0_0
    connect \I \button_up_0__io
    connect \O \button_up_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_down_0"
module \pin_button_down_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_down_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_down_0__io
  cell \IB \button_down_0_0
    connect \I \button_down_0__io
    connect \O \button_down_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_left_0"
module \pin_button_left_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_left_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_left_0__io
  cell \IB \button_left_0_0
    connect \I \button_left_0__io
    connect \O \button_left_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_right_0"
module \pin_button_right_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_right_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_right_0__io
  cell \IB \button_right_0_0
    connect \I \button_right_0__io
    connect \O \button_right_0__i
  end
end
attribute \generator "Amaranth"
attribute \top 1
attribute \amaranth.hierarchy "top"
module \top
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 0 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 2 \led_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 3 \led_2__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 4 \led_3__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 5 \led_4__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 6 \led_5__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 7 \led_6__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 8 \led_7__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 9 \esp32_spi_0__en__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 10 \esp32_spi_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 11 \esp32_spi_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 12 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 13 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 14 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 15 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 16 \uart_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 17 \uart_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 18 \uart_0__rts__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 19 \uart_0__dtr__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 20 \clk25_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 21 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 22 \button_fire_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 23 \button_fire_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 24 \button_up_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 25 \button_down_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 26 \button_left_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 27 \button_right_0__io
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 \clk
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:40"
  wire width 1 \rst$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_clk$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:26"
  wire width 1 \sync_1e6_rst
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:61"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:85"
  wire width 1 \i_button_ffsync_i_buttons__right
  cell \i_button_ffsync \i_button_ffsync
    connect \clk \clk
    connect \i_unsync_buttons__pwr \i_button_ffsync_i_unsync_buttons__pwr
    connect \i_unsync_buttons__fireA \i_button_ffsync_i_unsync_buttons__fireA
    connect \i_unsync_buttons__fireB \i_button_ffsync_i_unsync_buttons__fireB
    connect \i_unsync_buttons__up \i_button_ffsync_i_unsync_buttons__up
    connect \i_unsync_buttons__down \i_button_ffsync_i_unsync_buttons__down
    connect \i_unsync_buttons__left \i_button_ffsync_i_unsync_buttons__left
    connect \i_unsync_buttons__right \i_button_ffsync_i_unsync_buttons__right
    connect \i_buttons__pwr \i_button_ffsync_i_buttons__pwr
    connect \i_buttons__left \i_button_ffsync_i_buttons__left
    connect \rst \rst
    connect \i_buttons__right \i_button_ffsync_i_buttons__right
  end
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__tb_fanin_flags__in_start
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__tb_fanin_flags__in_done
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__tb_fanout_flags__trigger
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__tb_fanout_flags__trigger$next
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__done
  attribute \src "amaram/common/Delayer.py:183"
  wire width 1 \tb_ui__inactive
  attribute \init 12'000000000000
  attribute \src "amaram/common/Delayer.py:183"
  wire width 12 \tb_ui__load
  attribute \src "amaram/common/Delayer.py:183"
  wire width 12 \tb_ui__load$next
  cell \tb \tb
    connect \clk \clk
    connect \ui__tb_fanin_flags__in_start \tb_ui__tb_fanin_flags__in_start
    connect \ui__tb_fanin_flags__in_done \tb_ui__tb_fanin_flags__in_done
    connect \ui__tb_fanout_flags__trigger \tb_ui__tb_fanout_flags__trigger
    connect \ui__done \tb_ui__done
    connect \ui__inactive \tb_ui__inactive
    connect \ui__load \tb_ui__load
    connect \rst \rst
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_0_led_0__o
  cell \pin_led_0 \pin_led_0
    connect \led_0__o \pin_led_0_led_0__o
    connect \led_0__io \led_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_1_led_1__o
  cell \pin_led_1 \pin_led_1
    connect \led_1__o \pin_led_1_led_1__o
    connect \led_1__io \led_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_2_led_2__o
  cell \pin_led_2 \pin_led_2
    connect \led_2__o \pin_led_2_led_2__o
    connect \led_2__io \led_2__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_3_led_3__o
  cell \pin_led_3 \pin_led_3
    connect \led_3__o \pin_led_3_led_3__o
    connect \led_3__io \led_3__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_4_led_4__o
  cell \pin_led_4 \pin_led_4
    connect \led_4__o \pin_led_4_led_4__o
    connect \led_4__io \led_4__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_5_led_5__o
  cell \pin_led_5 \pin_led_5
    connect \led_5__o \pin_led_5_led_5__o
    connect \led_5__io \led_5__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_6_led_6__o
  cell \pin_led_6 \pin_led_6
    connect \led_6__o \pin_led_6_led_6__o
    connect \led_6__io \led_6__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_7_led_7__o
  cell \pin_led_7 \pin_led_7
    connect \led_7__o \pin_led_7_led_7__o
    connect \led_7__io \led_7__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
  cell \pin_esp32_spi_0__en \pin_esp32_spi_0__en
    connect \esp32_spi_0__en__o \pin_esp32_spi_0__en_esp32_spi_0__en__o
    connect \esp32_spi_0__en__io \esp32_spi_0__en__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
  cell \pin_esp32_spi_0__tx \pin_esp32_spi_0__tx
    connect \esp32_spi_0__tx__o \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    connect \esp32_spi_0__tx__io \esp32_spi_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
  cell \pin_esp32_spi_0__rx \pin_esp32_spi_0__rx
    connect \esp32_spi_0__rx__i \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
    connect \esp32_spi_0__rx__io \esp32_spi_0__rx__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
  cell \pin_esp32_spi_0__gpio0 \pin_esp32_spi_0__gpio0
    connect \esp32_spi_0__gpio0__o \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    connect \esp32_spi_0__gpio0__io \esp32_spi_0__gpio0__io
  end
  cell \pin_esp32_spi_0__gpio4_copi \pin_esp32_spi_0__gpio4_copi
    connect \esp32_spi_0__gpio4_copi__io \esp32_spi_0__gpio4_copi__io
  end
  cell \pin_esp32_spi_0__gpio5_cs \pin_esp32_spi_0__gpio5_cs
    connect \esp32_spi_0__gpio5_cs__io \esp32_spi_0__gpio5_cs__io
  end
  cell \pin_esp32_spi_0__gpio12_cipo \pin_esp32_spi_0__gpio12_cipo
    connect \esp32_spi_0__gpio12_cipo__io \esp32_spi_0__gpio12_cipo__io
  end
  cell \pin_esp32_spi_0__gpio16_sclk \pin_esp32_spi_0__gpio16_sclk
    connect \esp32_spi_0__gpio16_sclk__io \esp32_spi_0__gpio16_sclk__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rx_uart_0__rx__i
  cell \pin_uart_0__rx \pin_uart_0__rx
    connect \uart_0__rx__i \pin_uart_0__rx_uart_0__rx__i
    connect \uart_0__rx__io \uart_0__rx__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o$next
  cell \pin_uart_0__tx \pin_uart_0__tx
    connect \uart_0__tx__o \pin_uart_0__tx_uart_0__tx__o
    connect \uart_0__tx__io \uart_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rts_uart_0__rts__i
  cell \pin_uart_0__rts \pin_uart_0__rts
    connect \uart_0__rts__i \pin_uart_0__rts_uart_0__rts__i
    connect \uart_0__rts__io \uart_0__rts__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__dtr_uart_0__dtr__i
  cell \pin_uart_0__dtr \pin_uart_0__dtr
    connect \uart_0__dtr__i \pin_uart_0__dtr_uart_0__dtr__i
    connect \uart_0__dtr__io \uart_0__dtr__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_clk25_0_clk25_0__i
  cell \pin_clk25_0 \pin_clk25_0
    connect \clk25_0__i \pin_clk25_0_clk25_0__i
    connect \clk25_0__io \clk25_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_pwr_0_button_pwr_0__i
  cell \pin_button_pwr_0 \pin_button_pwr_0
    connect \button_pwr_0__i \pin_button_pwr_0_button_pwr_0__i
    connect \button_pwr_0__io \button_pwr_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_0_button_fire_0__i
  cell \pin_button_fire_0 \pin_button_fire_0
    connect \button_fire_0__i \pin_button_fire_0_button_fire_0__i
    connect \button_fire_0__io \button_fire_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_1_button_fire_1__i
  cell \pin_button_fire_1 \pin_button_fire_1
    connect \button_fire_1__i \pin_button_fire_1_button_fire_1__i
    connect \button_fire_1__io \button_fire_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_up_0_button_up_0__i
  cell \pin_button_up_0 \pin_button_up_0
    connect \button_up_0__i \pin_button_up_0_button_up_0__i
    connect \button_up_0__io \button_up_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_down_0_button_down_0__i
  cell \pin_button_down_0 \pin_button_down_0
    connect \button_down_0__i \pin_button_down_0_button_down_0__i
    connect \button_down_0__io \button_down_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_left_0_button_left_0__i
  cell \pin_button_left_0 \pin_button_left_0
    connect \button_left_0__i \pin_button_left_0_button_left_0__i
    connect \button_left_0__io \button_left_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_right_0_button_right_0__i
  cell \pin_button_right_0 \pin_button_right_0
    connect \button_right_0__i \pin_button_right_0_button_right_0__i
    connect \button_right_0__io \button_right_0__io
  end
  process $group_0
    assign \clk 1'0
    assign \clk { \pin_clk25_0_clk25_0__i }
  end
  attribute \init 4'0000
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 4 \clk_counter
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 4 \clk_counter$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $add $3
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 5
    connect \A \clk_counter
    connect \B 1'1
    connect \Y $2
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 5 $4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 4'1011
    connect \Y $5
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:32"
  cell $mux $7
    parameter \WIDTH 5
    connect \A $2
    connect \B 5'00000
    connect \S $5
    connect \Y $4
  end
  connect $1 $4
  process $group_1
    assign \clk_counter$next \clk_counter
    assign \clk_counter$next $1 [3:0]
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \clk_counter$next 4'0000
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $not $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \sync_1e6_clk
    connect \Y $8
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  wire width 1 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $eq $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 1'0
    connect \Y $11
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:33"
  cell $mux $13
    parameter \WIDTH 1
    connect \A \sync_1e6_clk
    connect \B $8
    connect \S $11
    connect \Y $10
  end
  process $group_2
    assign \sync_1e6_clk$next \sync_1e6_clk
    assign \sync_1e6_clk$next $10
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \sync_1e6_clk$next 1'0
    end
  end
  process $group_3
    assign \i_button_ffsync_i_unsync_buttons__pwr$next \i_button_ffsync_i_unsync_buttons__pwr
    assign \i_button_ffsync_i_unsync_buttons__pwr$next { \pin_button_pwr_0_button_pwr_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__pwr$next 1'0
    end
  end
  process $group_4
    assign \i_button_ffsync_i_unsync_buttons__fireA$next \i_button_ffsync_i_unsync_buttons__fireA
    assign \i_button_ffsync_i_unsync_buttons__fireA$next { \pin_button_fire_0_button_fire_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireA$next 1'0
    end
  end
  process $group_5
    assign \i_button_ffsync_i_unsync_buttons__fireB$next \i_button_ffsync_i_unsync_buttons__fireB
    assign \i_button_ffsync_i_unsync_buttons__fireB$next { \pin_button_fire_1_button_fire_1__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireB$next 1'0
    end
  end
  process $group_6
    assign \i_button_ffsync_i_unsync_buttons__up$next \i_button_ffsync_i_unsync_buttons__up
    assign \i_button_ffsync_i_unsync_buttons__up$next { \pin_button_up_0_button_up_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__up$next 1'0
    end
  end
  process $group_7
    assign \i_button_ffsync_i_unsync_buttons__down$next \i_button_ffsync_i_unsync_buttons__down
    assign \i_button_ffsync_i_unsync_buttons__down$next { \pin_button_down_0_button_down_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__down$next 1'0
    end
  end
  process $group_8
    assign \i_button_ffsync_i_unsync_buttons__left$next \i_button_ffsync_i_unsync_buttons__left
    assign \i_button_ffsync_i_unsync_buttons__left$next { \pin_button_left_0_button_left_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__left$next 1'0
    end
  end
  process $group_9
    assign \i_button_ffsync_i_unsync_buttons__right$next \i_button_ffsync_i_unsync_buttons__right
    assign \i_button_ffsync_i_unsync_buttons__right$next { \pin_button_right_0_button_right_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__right$next 1'0
    end
  end
  process $group_10
    assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    assign { \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next } { \pin_uart_0__rx_uart_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next 1'0
    end
  end
  process $group_11
    assign \pin_uart_0__tx_uart_0__tx__o$next \pin_uart_0__tx_uart_0__tx__o
    assign { \pin_uart_0__tx_uart_0__tx__o$next } { \pin_esp32_spi_0__rx_esp32_spi_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_uart_0__tx_uart_0__tx__o$next 1'0
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $14
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $14
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $16
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $16
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $and $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $14
    connect \B $16
    connect \Y $18
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $20
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $20
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $22
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $22
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  wire width 1 $24
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  cell $and $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $20
    connect \B $22
    connect \Y $24
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $26
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $27
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $26
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $28
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $28
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  wire width 1 $30
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  cell $and $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $26
    connect \B $28
    connect \Y $30
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $32
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $34
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $34
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $36
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $37
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $32
    connect \B $34
    connect \Y $36
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  wire width 1 $38
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  cell $not $39
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $38
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  wire width 1 $40
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:114"
  cell $and $41
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $38
    connect \Y $40
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  wire width 1 $42
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  cell $not $43
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $42
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  wire width 1 $44
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:117"
  cell $and $45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $42
    connect \Y $44
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  wire width 1 $46
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  cell $not $47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $46
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  wire width 1 $48
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:120"
  cell $and $49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'0
    connect \B $46
    connect \Y $48
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $50
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $not $51
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $50
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $52
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $and $53
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $50
    connect \Y $52
  end
  process $group_12
    assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next \pin_esp32_spi_0__en_esp32_spi_0__en__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
    switch { $36 $30 $24 $18 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
      case 4'---1
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $40
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
      case 4'--1-
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $44
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
      case 4'-1--
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $48
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'1---
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $52
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next 1'0
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $54
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $55
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $54
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $56
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $eq $57
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $56
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  wire width 1 $58
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
  cell $and $59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $54
    connect \B $56
    connect \Y $58
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $60
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $61
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $60
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $62
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $63
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $62
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  wire width 1 $64
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
  cell $and $65
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $60
    connect \B $62
    connect \Y $64
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $66
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $67
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $66
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $68
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $69
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $68
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  wire width 1 $70
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
  cell $and $71
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $66
    connect \B $68
    connect \Y $70
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $72
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $73
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $72
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $74
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $75
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $74
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $76
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $77
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $72
    connect \B $74
    connect \Y $76
  end
  process $group_13
    assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
    switch { $76 $70 $64 $58 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:113"
      case 4'---1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:116"
      case 4'--1-
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:119"
      case 4'-1--
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'1---
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanin_flags__in_start
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanin_flags__in_start$next
  process $group_14
    assign \ui__tb_fanin_flags__in_start$next \ui__tb_fanin_flags__in_start
    assign \ui__tb_fanin_flags__in_start$next \tb_ui__tb_fanin_flags__in_start
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_start$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanin_flags__in_done
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanin_flags__in_done$next
  process $group_15
    assign \ui__tb_fanin_flags__in_done$next \ui__tb_fanin_flags__in_done
    assign \ui__tb_fanin_flags__in_done$next \tb_ui__tb_fanin_flags__in_done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_done$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanout_flags__trigger
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__tb_fanout_flags__trigger$next
  process $group_16
    assign \tb_ui__tb_fanout_flags__trigger$next \tb_ui__tb_fanout_flags__trigger
    assign \tb_ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \tb_ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__done
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__done$next
  process $group_17
    assign \ui__done$next \ui__done
    assign \ui__done$next \tb_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__done$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__inactive
  attribute \src "amaram/common/Delayer.py:381"
  wire width 1 \ui__inactive$next
  process $group_18
    assign \ui__inactive$next \ui__inactive
    assign \ui__inactive$next \tb_ui__inactive
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__inactive$next 1'0
    end
  end
  attribute \src "amaram/common/Delayer.py:381"
  wire width 12 \ui__load
  process $group_19
    assign \tb_ui__load$next \tb_ui__load
    assign \tb_ui__load$next \ui__load
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \tb_ui__load$next 12'000000000000
    end
  end
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:388"
  wire width 1 \start
  attribute \src "amaram/common/Delayer.py:388"
  wire width 1 \start$next
  process $group_20
    assign \start$next \start
    assign \start$next \i_button_ffsync_i_buttons__left
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \start$next 1'0
    end
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $78
  attribute \amaranth.sample_reg 1
  attribute \init 1'0
  attribute \src "amaram/common/Delayer.py:388"
  wire width 1 $sample$s$start$sync$1
  attribute \src "amaram/common/Delayer.py:388"
  wire width 1 $sample$s$start$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $79
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$start$sync$1
    connect \Y $78
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $80
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $81
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $78
    connect \B \start
    connect \Y $80
  end
  process $group_21
    assign \ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    assign \ui__tb_fanout_flags__trigger$next $80
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  process $group_22
    assign \rst$next \rst
    assign \rst$next \i_button_ffsync_i_buttons__right
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \rst$next 1'0
    end
  end
  attribute \src "amaram/common/Delayer.py:397"
  wire width 8 $82
  attribute \src "amaram/common/Delayer.py:397"
  cell $pos $83
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \Y_WIDTH 8
    connect \A { \i_button_ffsync_i_buttons__left \i_button_ffsync_i_buttons__right \ui__tb_fanin_flags__in_done \ui__tb_fanin_flags__in_start }
    connect \Y $82
  end
  process $group_23
    assign \pin_led_0_led_0__o 1'0
    assign \pin_led_1_led_1__o 1'0
    assign \pin_led_2_led_2__o 1'0
    assign \pin_led_3_led_3__o 1'0
    assign \pin_led_4_led_4__o 1'0
    assign \pin_led_5_led_5__o 1'0
    assign \pin_led_6_led_6__o 1'0
    assign \pin_led_7_led_7__o 1'0
    assign { { \pin_led_7_led_7__o } { \pin_led_6_led_6__o } { \pin_led_5_led_5__o } { \pin_led_4_led_4__o } { \pin_led_3_led_3__o } { \pin_led_2_led_2__o } { \pin_led_1_led_1__o } { \pin_led_0_led_0__o } } $82
  end
  process $group_31
    assign $sample$s$start$sync$1$next $sample$s$start$sync$1
    assign $sample$s$start$sync$1$next \start
  end
  cell $dff $84
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D $sample$s$start$sync$1$next
    connect \Q $sample$s$start$sync$1
  end
  cell $dff $85
    parameter \CLK_POLARITY 1
    parameter \WIDTH 4
    connect \CLK \clk
    connect \D \clk_counter$next
    connect \Q \clk_counter
  end
  cell $dff $86
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \sync_1e6_clk$next
    connect \Q \sync_1e6_clk
  end
  cell $dff $87
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
    connect \Q \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  end
  cell $dff $88
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_uart_0__tx_uart_0__tx__o$next
    connect \Q \pin_uart_0__tx_uart_0__tx__o
  end
  cell $dff $89
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
    connect \Q \pin_esp32_spi_0__en_esp32_spi_0__en__o
  end
  cell $dff $90
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
    connect \Q \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  end
  cell $dff $91
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_start$next
    connect \Q \ui__tb_fanin_flags__in_start
  end
  cell $dff $92
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_done$next
    connect \Q \ui__tb_fanin_flags__in_done
  end
  cell $dff $93
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \tb_ui__tb_fanout_flags__trigger$next
    connect \Q \tb_ui__tb_fanout_flags__trigger
  end
  cell $dff $94
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__done$next
    connect \Q \ui__done
  end
  cell $dff $95
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__inactive$next
    connect \Q \ui__inactive
  end
  cell $dff $96
    parameter \CLK_POLARITY 1
    parameter \WIDTH 12
    connect \CLK \clk
    connect \D \tb_ui__load$next
    connect \Q \tb_ui__load
  end
  cell $dff $97
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \start$next
    connect \Q \start
  end
  cell $dff $98
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanout_flags__trigger$next
    connect \Q \ui__tb_fanout_flags__trigger
  end
  cell $dff $99
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \rst$next
    connect \Q \rst
  end
  cell $dff $100
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__pwr$next
    connect \Q \i_button_ffsync_i_unsync_buttons__pwr
  end
  cell $dff $101
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__fireA$next
    connect \Q \i_button_ffsync_i_unsync_buttons__fireA
  end
  cell $dff $102
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__fireB$next
    connect \Q \i_button_ffsync_i_unsync_buttons__fireB
  end
  cell $dff $103
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__up$next
    connect \Q \i_button_ffsync_i_unsync_buttons__up
  end
  cell $dff $104
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__down$next
    connect \Q \i_button_ffsync_i_unsync_buttons__down
  end
  cell $dff $105
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__left$next
    connect \Q \i_button_ffsync_i_unsync_buttons__left
  end
  cell $dff $106
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__right$next
    connect \Q \i_button_ffsync_i_unsync_buttons__right
  end
  connect \sync_1e6_rst 1'0
  connect \ui__load 12'000000000000
end
