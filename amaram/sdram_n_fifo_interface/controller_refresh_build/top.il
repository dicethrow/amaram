# Automatically generated by Amaranth 0.4.dev7+g02364a4. Do not edit.
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.ecp5pll"
module \ecp5pll
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 output 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \clk25_0__io
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 output 2 \sdram_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/ECP5PLL.py:28"
  wire width 1 \reset
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/ECP5PLL.py:29"
  wire width 1 \locked
  attribute \FREQUENCY_PIN_CLKI "25.0"
  attribute \ICP_CURRENT "6"
  attribute \LPF_RESISTOR "16"
  attribute \MFG_ENABLE_FILTEROPAMP "1"
  attribute \MFG_GMCREF_SEL "2"
  cell \EHXPLLL \U$$0
    parameter \FEEDBK_PATH "INT_OS3"
    parameter \CLKOS3_ENABLE "ENABLED"
    parameter \CLKOS3_DIV 1
    parameter \CLKFB_DIV 17
    parameter \CLKI_DIV 1
    parameter \CLKOP_ENABLE "ENABLED"
    parameter \CLKOP_DIV 17
    parameter \CLKOP_FPHASE 0
    parameter \CLKOP_CPHASE 17
    parameter \CLKOS_ENABLE "ENABLED"
    parameter \CLKOS_DIV 3
    parameter \CLKOS_FPHASE 0
    parameter \CLKOS_CPHASE 3
    connect \RST \reset
    connect \CLKI { \clk25_0__io }
    connect \LOCK \locked
    connect \CLKOP \clk
    connect \CLKOS \sdram_clk
  end
  connect \reset 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.i_button_ffsync"
module \i_button_ffsync
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 0 \i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 1 \i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 2 \i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 3 \i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 4 \i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 5 \i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 input 6 \i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 output 7 \i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 output 8 \i_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 input 9 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 output 10 \i_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 input 11 \clk
  attribute \init 7'0000000
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \i_unsync_buttons__right \i_unsync_buttons__left \i_unsync_buttons__down \i_unsync_buttons__up \i_unsync_buttons__fireB \i_unsync_buttons__fireA \i_unsync_buttons__pwr }
  end
  attribute \init 7'0000000
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 7 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_buttons__down
  process $group_2
    assign \i_buttons__pwr 1'0
    assign \i_buttons__fireA 1'0
    assign \i_buttons__fireB 1'0
    assign \i_buttons__up 1'0
    assign \i_buttons__down 1'0
    assign \i_buttons__left 1'0
    assign \i_buttons__right 1'0
    assign { \i_buttons__right \i_buttons__left \i_buttons__down \i_buttons__up \i_buttons__fireB \i_buttons__fireA \i_buttons__pwr } \stage1
  end
  cell $dff $1
    parameter \CLK_POLARITY 1
    parameter \WIDTH 7
    connect \CLK \clk
    connect \D \stage0$next
    connect \Q \stage0
  end
  cell $dff $2
    parameter \CLK_POLARITY 1
    parameter \WIDTH 7
    connect \CLK \clk
    connect \D \stage1$next
    connect \Q \stage1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb.refresher.delayer"
module \delayer
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 input 0 \sdram_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 input 1 \sdram_clk
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 1 output 2 \ui__done
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 1 \ui__done$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 24 input 3 \ui__load
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:175"
  wire width 1 \_ui__done
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:175"
  wire width 1 \_ui__done$next
  process $group_0
    assign \ui__done$next \ui__done
    assign \ui__done$next \_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__done$next 1'0
    end
  end
  attribute \init 24'000000000000000000000000
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:175"
  wire width 24 \_ui__load
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:175"
  wire width 24 \_ui__load$next
  process $group_1
    assign \_ui__load$next \_ui__load
    assign \_ui__load$next \ui__load
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__load$next 24'000000000000000000000000
    end
  end
  attribute \init 14'00000000000000
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:182"
  wire width 14 \countdown
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:182"
  wire width 14 \countdown$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  wire width 15 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  wire width 15 $2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  cell $sub $3
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 15
    connect \A \countdown
    connect \B 1'1
    connect \Y $2
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:182"
  wire width 15 $4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:182"
  cell $pos $5
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \Y_WIDTH 15
    connect \A \countdown
    connect \Y $4
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  wire width 15 $6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  wire width 1 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  cell $gt $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \countdown
    connect \B 1'0
    connect \Y $7
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:186"
  cell $mux $9
    parameter \WIDTH 15
    connect \A $4
    connect \B $2
    connect \S $7
    connect \Y $6
  end
  connect $1 $6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:192"
  wire width 1 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:192"
  cell $ne $11
    parameter \A_SIGNED 0
    parameter \A_WIDTH 24
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_ui__load
    connect \B 1'0
    connect \Y $10
  end
  process $group_2
    assign \countdown$next \countdown
    assign \countdown$next $1 [13:0]
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:192"
    switch { $10 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:192"
      case 1'1
        assign \countdown$next \_ui__load [13:0]
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \countdown$next 14'00000000000000
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:187"
  wire width 1 $12
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:187"
  cell $eq $13
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \countdown
    connect \B 1'1
    connect \Y $12
  end
  process $group_3
    assign \_ui__done$next \_ui__done
    assign \_ui__done$next $12
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__done$next 1'0
    end
  end
  cell $dff $14
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__done$next
    connect \Q \ui__done
  end
  cell $dff $15
    parameter \CLK_POLARITY 1
    parameter \WIDTH 24
    connect \CLK \sdram_clk
    connect \D \_ui__load$next
    connect \Q \_ui__load
  end
  cell $dff $16
    parameter \CLK_POLARITY 1
    parameter \WIDTH 14
    connect \CLK \sdram_clk
    connect \D \countdown$next
    connect \Q \countdown
  end
  cell $dff $17
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__done$next
    connect \Q \_ui__done
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb.refresher"
module \refresher
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 output 0 \ui__request_to_refresh_soon
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \ui__request_to_refresh_soon$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 input 1 \ui__enable_refresh
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 output 2 \ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \ui__refresh_in_progress$next
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 output 3 \ui__refresh_lapsed
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \ui__refresh_lapsed$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 input 4 \sdram_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 input 5 \sdram_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 1 \delayer_ui__done
  attribute \init 24'000000000000000000000000
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 24 \delayer_ui__load
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:84"
  wire width 24 \delayer_ui__load$next
  cell \delayer \delayer
    connect \sdram_rst \sdram_rst
    connect \sdram_clk \sdram_clk
    connect \ui__done \delayer_ui__done
    connect \ui__load \delayer_ui__load
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:101"
  wire width 1 \delayer_ui__done$1
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:101"
  wire width 1 \delayer_ui__done$1$next
  process $group_0
    assign \delayer_ui__done$1$next \delayer_ui__done$1
    assign \delayer_ui__done$1$next \delayer_ui__done
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delayer_ui__done$1$next 1'0
    end
  end
  attribute \init 24'000000000000000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:101"
  wire width 24 \delayer_ui__load$2
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:101"
  wire width 24 \delayer_ui__load$2$next
  process $group_1
    assign \delayer_ui__load$next \delayer_ui__load
    assign \delayer_ui__load$next \delayer_ui__load$2
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delayer_ui__load$next 24'000000000000000000000000
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__request_to_refresh_soon
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__request_to_refresh_soon$next
  process $group_2
    assign \ui__request_to_refresh_soon$next \ui__request_to_refresh_soon
    assign \ui__request_to_refresh_soon$next \_ui__request_to_refresh_soon
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__request_to_refresh_soon$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__enable_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__enable_refresh$next
  process $group_3
    assign \_ui__enable_refresh$next \_ui__enable_refresh
    assign \_ui__enable_refresh$next \ui__enable_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__enable_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__refresh_in_progress$next
  process $group_4
    assign \ui__refresh_in_progress$next \ui__refresh_in_progress
    assign \ui__refresh_in_progress$next \_ui__refresh_in_progress
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__refresh_in_progress$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__refresh_lapsed
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:105"
  wire width 1 \_ui__refresh_lapsed$next
  process $group_5
    assign \ui__refresh_lapsed$next \ui__refresh_lapsed
    assign \ui__refresh_lapsed$next \_ui__refresh_lapsed
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__refresh_lapsed$next 1'0
    end
  end
  attribute \enum_base_type "sdram_cmds"
  attribute \enum_value_0000 "CMD_DESL"
  attribute \enum_value_0001 "CMD_NOP"
  attribute \enum_value_0010 "CMD_BST"
  attribute \enum_value_0011 "CMD_READ"
  attribute \enum_value_0100 "CMD_READ_AP"
  attribute \enum_value_0101 "CMD_WRITE"
  attribute \enum_value_0110 "CMD_WRITE_AP"
  attribute \enum_value_0111 "CMD_ACT"
  attribute \enum_value_1000 "CMD_PRE"
  attribute \enum_value_1001 "CMD_PALL"
  attribute \enum_value_1010 "CMD_REF"
  attribute \enum_value_1011 "CMD_SELF"
  attribute \enum_value_1100 "CMD_MRS"
  attribute \enum_value_1101 "CMD_ILLEGAL"
  attribute \init 4'0000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 4 \controller_pin_ui__ios__cmd
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 4 \controller_pin_ui__ios__cmd$next
  attribute \init 4'0000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 4 \_controller_pin_ui__ios__cmd
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 4 \_controller_pin_ui__ios__cmd$next
  process $group_6
    assign \controller_pin_ui__ios__cmd$next \controller_pin_ui__ios__cmd
    assign \controller_pin_ui__ios__cmd$next \_controller_pin_ui__ios__cmd
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__cmd$next 4'0000
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 1 \controller_pin_ui__ios__clk_en
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 1 \controller_pin_ui__ios__clk_en$next
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 1 \_controller_pin_ui__ios__clk_en
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 1 \_controller_pin_ui__ios__clk_en$next
  process $group_7
    assign \controller_pin_ui__ios__clk_en$next \controller_pin_ui__ios__clk_en
    assign \controller_pin_ui__ios__clk_en$next \_controller_pin_ui__ios__clk_en
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__clk_en$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 1 \controller_pin_ui__ios__dqm
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 1 \controller_pin_ui__ios__dqm$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 1 \_controller_pin_ui__ios__dqm
  process $group_8
    assign \controller_pin_ui__ios__dqm$next \controller_pin_ui__ios__dqm
    assign \controller_pin_ui__ios__dqm$next \_controller_pin_ui__ios__dqm
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__dqm$next 1'0
    end
  end
  attribute \init 16'0000000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 16 \controller_pin_ui__ios__copi_dq
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 16 \controller_pin_ui__ios__copi_dq$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 16 \_controller_pin_ui__ios__copi_dq
  process $group_9
    assign \controller_pin_ui__ios__copi_dq$next \controller_pin_ui__ios__copi_dq
    assign \controller_pin_ui__ios__copi_dq$next \_controller_pin_ui__ios__copi_dq
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__copi_dq$next 16'0000000000000000
    end
  end
  attribute \init 16'0000000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 16 \_controller_pin_ui__ios__cipo_dq
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 16 \_controller_pin_ui__ios__cipo_dq$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 16 \controller_pin_ui__ios__cipo_dq
  process $group_10
    assign \_controller_pin_ui__ios__cipo_dq$next \_controller_pin_ui__ios__cipo_dq
    assign \_controller_pin_ui__ios__cipo_dq$next \controller_pin_ui__ios__cipo_dq
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_controller_pin_ui__ios__cipo_dq$next 16'0000000000000000
    end
  end
  attribute \init 13'0000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 13 \controller_pin_ui__ios__a
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 13 \controller_pin_ui__ios__a$next
  attribute \init 13'0000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 13 \_controller_pin_ui__ios__a
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 13 \_controller_pin_ui__ios__a$next
  process $group_11
    assign \controller_pin_ui__ios__a$next \controller_pin_ui__ios__a
    assign \controller_pin_ui__ios__a$next \_controller_pin_ui__ios__a
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__a$next 13'0000000000000
    end
  end
  attribute \init 2'00
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 2 \controller_pin_ui__ios__ba
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:81"
  wire width 2 \controller_pin_ui__ios__ba$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:106"
  wire width 2 \_controller_pin_ui__ios__ba
  process $group_12
    assign \controller_pin_ui__ios__ba$next \controller_pin_ui__ios__ba
    assign \controller_pin_ui__ios__ba$next \_controller_pin_ui__ios__ba
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_pin_ui__ios__ba$next 2'00
    end
  end
  attribute \init 3'001
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
  wire width 3 \controller_refresh_fsm_state
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
  wire width 3 \controller_refresh_fsm_state$next
  attribute \init 4'0001
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
  wire width 4 \initialise_and_load_mode_register_fsm_state
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
  wire width 4 \initialise_and_load_mode_register_fsm_state$next
  process $group_13
    assign \_controller_pin_ui__ios__cmd$next \_controller_pin_ui__ios__cmd
    assign \_controller_pin_ui__ios__cmd$next 4'0001
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
            assign \_controller_pin_ui__ios__cmd$next 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
            assign \_controller_pin_ui__ios__cmd$next 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
            assign \_controller_pin_ui__ios__cmd$next 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
            assign \_controller_pin_ui__ios__cmd$next 4'1100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
        assign \_controller_pin_ui__ios__cmd$next 4'1010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_controller_pin_ui__ios__cmd$next 4'0000
    end
  end
  process $group_14
    assign \_controller_pin_ui__ios__clk_en$next \_controller_pin_ui__ios__clk_en
    assign \_controller_pin_ui__ios__clk_en$next 1'1
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_controller_pin_ui__ios__clk_en$next 1'0
    end
  end
  attribute \init 23'10001011101001100000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:128"
  wire width 23 \refresh_level
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:128"
  wire width 23 \refresh_level$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  wire width 24 $3
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  wire width 24 $4
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  cell $sub $5
    parameter \A_SIGNED 0
    parameter \A_WIDTH 23
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 24
    connect \A \refresh_level
    connect \B 1'1
    connect \Y $4
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  wire width 24 $6
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  wire width 1 $7
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  cell $gt $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 23
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \refresh_level
    connect \B 1'0
    connect \Y $7
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:131"
  cell $mux $9
    parameter \WIDTH 24
    connect \A 24'000000000000000000000000
    connect \B $4
    connect \S $7
    connect \Y $6
  end
  connect $3 $6
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:243"
  wire width 24 $10
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:245"
  wire width 24 $11
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:245"
  cell $add $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 23
    parameter \B_SIGNED 0
    parameter \B_WIDTH 10
    parameter \Y_WIDTH 24
    connect \A \refresh_level
    connect \B 10'1000101110
    connect \Y $11
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:243"
  wire width 24 $13
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:244"
  wire width 1 $14
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:244"
  cell $lt $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 23
    parameter \B_SIGNED 0
    parameter \B_WIDTH 23
    parameter \Y_WIDTH 1
    connect \A \refresh_level
    connect \B 23'10001011101000011010010
    connect \Y $14
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:243"
  cell $mux $16
    parameter \WIDTH 24
    connect \A 24'010001011101001100000000
    connect \B $11
    connect \S $14
    connect \Y $13
  end
  connect $10 $13
  process $group_15
    assign \refresh_level$next \refresh_level
    assign \refresh_level$next $3 [22:0]
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
        switch { \_ui__enable_refresh }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
          case 1'1
            assign \refresh_level$next 23'10001011101001100000000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
        assign \refresh_level$next $10 [22:0]
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refresh_level$next 23'10001011101001100000000
    end
  end
  attribute \init 14'00000000000000
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:124"
  wire width 14 \refreshes_to_do
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:124"
  wire width 14 \refreshes_to_do$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:138"
  wire width 24 $17
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:138"
  wire width 24 $18
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:138"
  cell $sub $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 23
    parameter \B_SIGNED 0
    parameter \B_WIDTH 23
    parameter \Y_WIDTH 24
    connect \A 23'10001011101001100000000
    connect \B \refresh_level
    connect \Y $18
  end
  connect $17 $18
  process $group_16
    assign \refreshes_to_do$next \refreshes_to_do
    assign \refreshes_to_do$next $17 [23:10]
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refreshes_to_do$next 14'00000000000000
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:141"
  wire width 1 $20
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:141"
  cell $eq $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \controller_refresh_fsm_state
    connect \B 1'0
    connect \Y $20
  end
  process $group_17
    assign \_ui__refresh_lapsed$next \_ui__refresh_lapsed
    assign \_ui__refresh_lapsed$next $20
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__refresh_lapsed$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:147"
  wire width 1 \complete
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:147"
  wire width 1 \complete$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:150"
  wire width 1 $22
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:150"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \initialise_and_load_mode_register_fsm_state
    connect \B 1'0
    connect \Y $22
  end
  process $group_18
    assign \complete$next \complete
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        assign \complete$next $22
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \complete$next 1'0
    end
  end
  attribute \init 2'11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:121"
  wire width 2 \shift_timer
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:121"
  wire width 2 \shift_timer$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:125"
  wire width 1 $24
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:125"
  cell $eq $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \shift_timer
    connect \B 1'1
    connect \Y $24
  end
  attribute \init 2'11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:121"
  wire width 2 \shift_timer$26
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:121"
  wire width 2 \shift_timer$26$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:125"
  wire width 1 $27
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:125"
  cell $eq $28
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \shift_timer$26
    connect \B 1'1
    connect \Y $27
  end
  process $group_19
    assign \initialise_and_load_mode_register_fsm_state$next \initialise_and_load_mode_register_fsm_state
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
            assign \initialise_and_load_mode_register_fsm_state$next 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
            attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:155"
            switch { \delayer_ui__done$1 }
              attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:155"
              case 1'1
                assign \initialise_and_load_mode_register_fsm_state$next 4'0011
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
            assign \initialise_and_load_mode_register_fsm_state$next 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
            attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:162"
            switch { $24 }
              attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:162"
              case 1'1
                assign \initialise_and_load_mode_register_fsm_state$next 4'0101
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
            assign \initialise_and_load_mode_register_fsm_state$next 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
            attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:169"
            switch { \delayer_ui__done$1 }
              attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:169"
              case 1'1
                assign \initialise_and_load_mode_register_fsm_state$next 4'0111
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
            assign \initialise_and_load_mode_register_fsm_state$next 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
            attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:176"
            switch { \delayer_ui__done$1 }
              attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:176"
              case 1'1
                assign \initialise_and_load_mode_register_fsm_state$next 4'1001
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
            assign \initialise_and_load_mode_register_fsm_state$next 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
            attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:188"
            switch { $27 }
              attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:188"
              case 1'1
                assign \initialise_and_load_mode_register_fsm_state$next 4'0000
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \initialise_and_load_mode_register_fsm_state$next 4'0001
    end
  end
  attribute \init 2'00
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$next
  attribute \init 2'00
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$29
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$29$next
  attribute \init 2'00
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$30
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$30$next
  attribute \init 2'00
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$31
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
  wire width 2 \delay_fsm_state$31$next
  process $group_20
    assign \delayer_ui__load$2$next \delayer_ui__load$2
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delayer_ui__load$2$next 24'000000000011011111010100
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delayer_ui__load$2$next 24'000000000000000000000000
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state$29
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delayer_ui__load$2$next 24'000000000000000000000001
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delayer_ui__load$2$next 24'000000000000000000000000
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state$30
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delayer_ui__load$2$next 24'000000000000000000000001
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delayer_ui__load$2$next 24'000000000000000000000000
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
        switch \delay_fsm_state$31
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
          attribute \amaranth.decoding "IDLE/0"
          case 2'00
            assign \delayer_ui__load$2$next 24'000000000000000000000001
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
          attribute \amaranth.decoding "LOADED/1"
          case 2'01
            assign \delayer_ui__load$2$next 24'000000000000000000000000
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
          attribute \amaranth.decoding "DONE/2"
          case 2'10
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delayer_ui__load$2$next 24'000000000000000000000000
    end
  end
  process $group_21
    assign \delay_fsm_state$next \delay_fsm_state
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delay_fsm_state$next 2'01
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delay_fsm_state$next 2'10
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
                attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                switch { \delayer_ui__done$1 }
                  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                  case 1'1
                    assign \delay_fsm_state$next 2'00
                end
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delay_fsm_state$next 2'00
    end
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:254"
  wire width 2 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:254"
  cell $pos $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 2
    connect \A \shift_timer [1]
    connect \Y $32
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
  wire width 1 $34
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
  cell $eq $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \shift_timer
    connect \B 1'1
    connect \Y $34
  end
  process $group_22
    assign \shift_timer$next \shift_timer
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
            assign \shift_timer$next $32
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
            switch { $34 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
              case 1'1
                assign \shift_timer$next 2'11
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \shift_timer$next 2'11
    end
  end
  process $group_23
    assign \delay_fsm_state$29$next \delay_fsm_state$29
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state$29
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delay_fsm_state$29$next 2'01
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delay_fsm_state$29$next 2'10
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
                attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                switch { \delayer_ui__done$1 }
                  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                  case 1'1
                    assign \delay_fsm_state$29$next 2'00
                end
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delay_fsm_state$29$next 2'00
    end
  end
  process $group_24
    assign \delay_fsm_state$30$next \delay_fsm_state$30
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
            switch \delay_fsm_state$30
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
              attribute \amaranth.decoding "IDLE/0"
              case 2'00
                assign \delay_fsm_state$30$next 2'01
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
              attribute \amaranth.decoding "LOADED/1"
              case 2'01
                assign \delay_fsm_state$30$next 2'10
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
              attribute \amaranth.decoding "DONE/2"
              case 2'10
                attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                switch { \delayer_ui__done$1 }
                  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
                  case 1'1
                    assign \delay_fsm_state$30$next 2'00
                end
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delay_fsm_state$30$next 2'00
    end
  end
  process $group_25
    assign \_controller_pin_ui__ios__a$next \_controller_pin_ui__ios__a
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
            assign \_controller_pin_ui__ios__a$next [9:0] 10'0000110011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_controller_pin_ui__ios__a$next 13'0000000000000
    end
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:254"
  wire width 2 $36
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:254"
  cell $pos $37
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 2
    connect \A \shift_timer$26 [1]
    connect \Y $36
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
  wire width 1 $38
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
  cell $eq $39
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \shift_timer$26
    connect \B 1'1
    connect \Y $38
  end
  process $group_26
    assign \shift_timer$26$next \shift_timer$26
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:148"
        switch \initialise_and_load_mode_register_fsm_state
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:152"
          attribute \amaranth.decoding "POWERUP/1"
          case 4'0001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:154"
          attribute \amaranth.decoding "POWERUP_WAITING/2"
          case 4'0010
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:158"
          attribute \amaranth.decoding "PRECH_BANKS/3"
          case 4'0011
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:161"
          attribute \amaranth.decoding "PRECH_BANKS_WAITING/4"
          case 4'0100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:165"
          attribute \amaranth.decoding "AUTO_REFRESH_1/5"
          case 4'0101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:168"
          attribute \amaranth.decoding "AUTO_REFRESH_1_WAITING/6"
          case 4'0110
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:172"
          attribute \amaranth.decoding "AUTO_REFRESH_2/7"
          case 4'0111
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:175"
          attribute \amaranth.decoding "AUTO_REFRESH_2_WAITING/8"
          case 4'1000
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:179"
          attribute \amaranth.decoding "LOAD_MODE_REG/9"
          case 4'1001
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:187"
          attribute \amaranth.decoding "LOAD_MODE_REG_WAITING/10"
          case 4'1010
            assign \shift_timer$26$next $36
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
            switch { $38 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:123"
              case 1'1
                assign \shift_timer$26$next 2'11
            end
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:191"
          attribute \amaranth.decoding "DONE/0"
          case 4'0000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \shift_timer$26$next 2'11
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:202"
  wire width 1 $40
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:202"
  cell $gt $41
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \refreshes_to_do
    connect \B 1'0
    connect \Y $40
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
  wire width 1 $42
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
  cell $eq $43
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 14
    parameter \Y_WIDTH 1
    connect \A \refreshes_to_do
    connect \B 14'10000000000000
    connect \Y $42
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
  wire width 1 $44
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
  cell $gt $45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \refreshes_to_do
    connect \B 1'0
    connect \Y $44
  end
  process $group_27
    assign \controller_refresh_fsm_state$next \controller_refresh_fsm_state
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:196"
        switch { \complete }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:196"
          case 1'1
            assign \controller_refresh_fsm_state$next 3'010
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:202"
        switch { $40 }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:202"
          case 1'1
            assign \controller_refresh_fsm_state$next 3'010
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:208"
        switch { $42 \_ui__enable_refresh }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:208"
          case 2'-1
            assign \controller_refresh_fsm_state$next 3'100
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
          case 2'1-
            assign \controller_refresh_fsm_state$next 3'000
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
        switch { \_ui__enable_refresh }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
          case 1'1
            assign \controller_refresh_fsm_state$next 3'100
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
        switch { $44 }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
          case 1'1
            assign \controller_refresh_fsm_state$next 3'101
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:235"
          case
            assign \controller_refresh_fsm_state$next 3'011
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
        assign \controller_refresh_fsm_state$next 3'110
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:251"
        switch { \delayer_ui__done$1 }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:251"
          case 1'1
            assign \controller_refresh_fsm_state$next 3'100
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \controller_refresh_fsm_state$next 3'001
    end
  end
  process $group_28
    assign \_ui__request_to_refresh_soon$next \_ui__request_to_refresh_soon
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
        assign \_ui__request_to_refresh_soon$next 1'1
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
        assign \_ui__request_to_refresh_soon$next 1'1
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
        assign \_ui__request_to_refresh_soon$next 1'0
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__request_to_refresh_soon$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
  wire width 1 $46
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
  cell $eq $47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 14
    parameter \Y_WIDTH 1
    connect \A \refreshes_to_do
    connect \B 14'10000000000000
    connect \Y $46
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
  wire width 1 $48
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
  cell $gt $49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 14
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \refreshes_to_do
    connect \B 1'0
    connect \Y $48
  end
  process $group_29
    assign \_ui__refresh_in_progress$next \_ui__refresh_in_progress
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:208"
        switch { $46 \_ui__enable_refresh }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:208"
          case 2'-1
            assign \_ui__refresh_in_progress$next 1'1
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:213"
          case 2'1-
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
        switch { \_ui__enable_refresh }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:222"
          case 1'1
            assign \_ui__refresh_in_progress$next 1'1
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
        switch { $48 }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:231"
          case 1'1
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:235"
          case
            assign \_ui__refresh_in_progress$next 1'0
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__refresh_in_progress$next 1'0
    end
  end
  process $group_30
    assign \delay_fsm_state$31$next \delay_fsm_state$31
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:121"
    switch \controller_refresh_fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:144"
      attribute \amaranth.decoding "AFTER_RESET/1"
      case 3'001
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:199"
      attribute \amaranth.decoding "READY_FOR_NORMAL_OPERATION/3"
      case 3'011
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:206"
      attribute \amaranth.decoding "REQUEST_REFRESH_SOON/2"
      case 3'010
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:216"
      attribute \amaranth.decoding "ERROR_REFRESH_LAPSED/0"
      case 3'000
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:229"
      attribute \amaranth.decoding "DO_ANOTHER_REFRESH?/4"
      case 3'100
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:240"
      attribute \amaranth.decoding "AUTO_REFRESH/5"
      case 3'101
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:250"
      attribute \amaranth.decoding "AUTO_REFRESH_WAITING/6"
      case 3'110
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:128"
        switch \delay_fsm_state$31
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:129"
          attribute \amaranth.decoding "IDLE/0"
          case 2'00
            assign \delay_fsm_state$31$next 2'01
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:132"
          attribute \amaranth.decoding "LOADED/1"
          case 2'01
            assign \delay_fsm_state$31$next 2'10
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:135"
          attribute \amaranth.decoding "DONE/2"
          case 2'10
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
            switch { \delayer_ui__done$1 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/amaram/sdram_n_fifo_interface/Delayer.py:136"
              case 1'1
                assign \delay_fsm_state$31$next 2'00
            end
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \delay_fsm_state$31$next 2'00
    end
  end
  cell $dff $50
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \delayer_ui__done$1$next
    connect \Q \delayer_ui__done$1
  end
  cell $dff $51
    parameter \CLK_POLARITY 1
    parameter \WIDTH 24
    connect \CLK \sdram_clk
    connect \D \delayer_ui__load$next
    connect \Q \delayer_ui__load
  end
  cell $dff $52
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__request_to_refresh_soon$next
    connect \Q \ui__request_to_refresh_soon
  end
  cell $dff $53
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__enable_refresh$next
    connect \Q \_ui__enable_refresh
  end
  cell $dff $54
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__refresh_in_progress$next
    connect \Q \ui__refresh_in_progress
  end
  cell $dff $55
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__refresh_lapsed$next
    connect \Q \ui__refresh_lapsed
  end
  cell $dff $56
    parameter \CLK_POLARITY 1
    parameter \WIDTH 4
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__cmd$next
    connect \Q \controller_pin_ui__ios__cmd
  end
  cell $dff $57
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__clk_en$next
    connect \Q \controller_pin_ui__ios__clk_en
  end
  cell $dff $58
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__dqm$next
    connect \Q \controller_pin_ui__ios__dqm
  end
  cell $dff $59
    parameter \CLK_POLARITY 1
    parameter \WIDTH 16
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__copi_dq$next
    connect \Q \controller_pin_ui__ios__copi_dq
  end
  cell $dff $60
    parameter \CLK_POLARITY 1
    parameter \WIDTH 16
    connect \CLK \sdram_clk
    connect \D \_controller_pin_ui__ios__cipo_dq$next
    connect \Q \_controller_pin_ui__ios__cipo_dq
  end
  cell $dff $61
    parameter \CLK_POLARITY 1
    parameter \WIDTH 13
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__a$next
    connect \Q \controller_pin_ui__ios__a
  end
  cell $dff $62
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \controller_pin_ui__ios__ba$next
    connect \Q \controller_pin_ui__ios__ba
  end
  cell $dff $63
    parameter \CLK_POLARITY 1
    parameter \WIDTH 4
    connect \CLK \sdram_clk
    connect \D \_controller_pin_ui__ios__cmd$next
    connect \Q \_controller_pin_ui__ios__cmd
  end
  cell $dff $64
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_controller_pin_ui__ios__clk_en$next
    connect \Q \_controller_pin_ui__ios__clk_en
  end
  cell $dff $65
    parameter \CLK_POLARITY 1
    parameter \WIDTH 23
    connect \CLK \sdram_clk
    connect \D \refresh_level$next
    connect \Q \refresh_level
  end
  cell $dff $66
    parameter \CLK_POLARITY 1
    parameter \WIDTH 14
    connect \CLK \sdram_clk
    connect \D \refreshes_to_do$next
    connect \Q \refreshes_to_do
  end
  cell $dff $67
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__refresh_lapsed$next
    connect \Q \_ui__refresh_lapsed
  end
  cell $dff $68
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \complete$next
    connect \Q \complete
  end
  cell $dff $69
    parameter \CLK_POLARITY 1
    parameter \WIDTH 4
    connect \CLK \sdram_clk
    connect \D \initialise_and_load_mode_register_fsm_state$next
    connect \Q \initialise_and_load_mode_register_fsm_state
  end
  cell $dff $70
    parameter \CLK_POLARITY 1
    parameter \WIDTH 24
    connect \CLK \sdram_clk
    connect \D \delayer_ui__load$2$next
    connect \Q \delayer_ui__load$2
  end
  cell $dff $71
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \delay_fsm_state$next
    connect \Q \delay_fsm_state
  end
  cell $dff $72
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \shift_timer$next
    connect \Q \shift_timer
  end
  cell $dff $73
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \delay_fsm_state$29$next
    connect \Q \delay_fsm_state$29
  end
  cell $dff $74
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \delay_fsm_state$30$next
    connect \Q \delay_fsm_state$30
  end
  cell $dff $75
    parameter \CLK_POLARITY 1
    parameter \WIDTH 13
    connect \CLK \sdram_clk
    connect \D \_controller_pin_ui__ios__a$next
    connect \Q \_controller_pin_ui__ios__a
  end
  cell $dff $76
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \shift_timer$26$next
    connect \Q \shift_timer$26
  end
  cell $dff $77
    parameter \CLK_POLARITY 1
    parameter \WIDTH 3
    connect \CLK \sdram_clk
    connect \D \controller_refresh_fsm_state$next
    connect \Q \controller_refresh_fsm_state
  end
  cell $dff $78
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__request_to_refresh_soon$next
    connect \Q \_ui__request_to_refresh_soon
  end
  cell $dff $79
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__refresh_in_progress$next
    connect \Q \_ui__refresh_in_progress
  end
  cell $dff $80
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \delay_fsm_state$31$next
    connect \Q \delay_fsm_state$31
  end
  connect \_controller_pin_ui__ios__dqm 1'0
  connect \_controller_pin_ui__ios__copi_dq 16'0000000000000000
  connect \controller_pin_ui__ios__cipo_dq 16'0000000000000000
  connect \_controller_pin_ui__ios__ba 2'00
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.tb"
module \tb
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 0 \ui__tb_fanin_flags__in_normal_operation
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__tb_fanin_flags__in_normal_operation$next
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 1 \ui__tb_fanin_flags__in_requesting_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__tb_fanin_flags__in_requesting_refresh$next
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 2 \ui__tb_fanin_flags__in_performing_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__tb_fanin_flags__in_performing_refresh$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 input 3 \ui__tb_fanout_flags__trigger
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 4 \ui__request_to_refresh_soon
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__request_to_refresh_soon$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 input 5 \ui__enable_refresh
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 6 \ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__refresh_in_progress$next
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 output 7 \ui__refresh_lapsed
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \ui__refresh_lapsed$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 input 8 \sdram_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 \sdram_rst
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \refresher_ui__request_to_refresh_soon
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \refresher_ui__enable_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \refresher_ui__enable_refresh$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \refresher_ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:82"
  wire width 1 \refresher_ui__refresh_lapsed
  cell \refresher \refresher
    connect \ui__request_to_refresh_soon \refresher_ui__request_to_refresh_soon
    connect \ui__enable_refresh \refresher_ui__enable_refresh
    connect \ui__refresh_in_progress \refresher_ui__refresh_in_progress
    connect \ui__refresh_lapsed \refresher_ui__refresh_lapsed
    connect \sdram_rst \sdram_rst
    connect \sdram_clk \sdram_clk
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__request_to_refresh_soon$1
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__request_to_refresh_soon$1$next
  process $group_0
    assign \refresher_ui__request_to_refresh_soon$1$next \refresher_ui__request_to_refresh_soon$1
    assign \refresher_ui__request_to_refresh_soon$1$next \refresher_ui__request_to_refresh_soon
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refresher_ui__request_to_refresh_soon$1$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__enable_refresh$2
  attribute \init 2'00
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:350"
  wire width 2 \fsm_state
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:350"
  wire width 2 \fsm_state$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:356"
  wire width 1 $3
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:356"
  cell $eq $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 2'10
    connect \Y $3
  end
  process $group_1
    assign \refresher_ui__enable_refresh$next \refresher_ui__enable_refresh
    assign \refresher_ui__enable_refresh$next \refresher_ui__enable_refresh$2
    assign \refresher_ui__enable_refresh$next $3
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refresher_ui__enable_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__refresh_in_progress$5
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__refresh_in_progress$5$next
  process $group_2
    assign \refresher_ui__refresh_in_progress$5$next \refresher_ui__refresh_in_progress$5
    assign \refresher_ui__refresh_in_progress$5$next \refresher_ui__refresh_in_progress
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refresher_ui__refresh_in_progress$5$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__refresh_lapsed$6
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:333"
  wire width 1 \refresher_ui__refresh_lapsed$6$next
  process $group_3
    assign \refresher_ui__refresh_lapsed$6$next \refresher_ui__refresh_lapsed$6
    assign \refresher_ui__refresh_lapsed$6$next \refresher_ui__refresh_lapsed
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \refresher_ui__refresh_lapsed$6$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_normal_operation
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_normal_operation$next
  process $group_4
    assign \ui__tb_fanin_flags__in_normal_operation$next \ui__tb_fanin_flags__in_normal_operation
    assign \ui__tb_fanin_flags__in_normal_operation$next \_ui__tb_fanin_flags__in_normal_operation
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__tb_fanin_flags__in_normal_operation$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_requesting_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_requesting_refresh$next
  process $group_5
    assign \ui__tb_fanin_flags__in_requesting_refresh$next \ui__tb_fanin_flags__in_requesting_refresh
    assign \ui__tb_fanin_flags__in_requesting_refresh$next \_ui__tb_fanin_flags__in_requesting_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__tb_fanin_flags__in_requesting_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_performing_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanin_flags__in_performing_refresh$next
  process $group_6
    assign \ui__tb_fanin_flags__in_performing_refresh$next \ui__tb_fanin_flags__in_performing_refresh
    assign \ui__tb_fanin_flags__in_performing_refresh$next \_ui__tb_fanin_flags__in_performing_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__tb_fanin_flags__in_performing_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanout_flags__trigger
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__tb_fanout_flags__trigger$next
  process $group_7
    assign \_ui__tb_fanout_flags__trigger$next \_ui__tb_fanout_flags__trigger
    assign \_ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__request_to_refresh_soon
  process $group_8
    assign \ui__request_to_refresh_soon$next \ui__request_to_refresh_soon
    assign \ui__request_to_refresh_soon$next \_ui__request_to_refresh_soon
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__request_to_refresh_soon$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__enable_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__enable_refresh$next
  process $group_9
    assign \_ui__enable_refresh$next \_ui__enable_refresh
    assign \_ui__enable_refresh$next \ui__enable_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__enable_refresh$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__refresh_in_progress
  process $group_10
    assign \ui__refresh_in_progress$next \ui__refresh_in_progress
    assign \ui__refresh_in_progress$next \_ui__refresh_in_progress
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__refresh_in_progress$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:336"
  wire width 1 \_ui__refresh_lapsed
  process $group_11
    assign \ui__refresh_lapsed$next \ui__refresh_lapsed
    assign \ui__refresh_lapsed$next \_ui__refresh_lapsed
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \ui__refresh_lapsed$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:352"
  wire width 1 $7
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:352"
  cell $eq $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'0
    connect \Y $7
  end
  process $group_12
    assign \_ui__tb_fanin_flags__in_normal_operation$next \_ui__tb_fanin_flags__in_normal_operation
    assign \_ui__tb_fanin_flags__in_normal_operation$next $7
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__tb_fanin_flags__in_normal_operation$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:353"
  wire width 1 $9
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:353"
  cell $eq $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'1
    connect \Y $9
  end
  process $group_13
    assign \_ui__tb_fanin_flags__in_requesting_refresh$next \_ui__tb_fanin_flags__in_requesting_refresh
    assign \_ui__tb_fanin_flags__in_requesting_refresh$next $9
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__tb_fanin_flags__in_requesting_refresh$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:354"
  wire width 1 $11
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:354"
  cell $eq $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 2'10
    connect \Y $11
  end
  process $group_14
    assign \_ui__tb_fanin_flags__in_performing_refresh$next \_ui__tb_fanin_flags__in_performing_refresh
    assign \_ui__tb_fanin_flags__in_performing_refresh$next $11
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \_ui__tb_fanin_flags__in_performing_refresh$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:369"
  wire width 1 $13
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:369"
  cell $not $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \refresher_ui__request_to_refresh_soon
    connect \Y $13
  end
  process $group_15
    assign \fsm_state$next \fsm_state
    attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:350"
    switch \fsm_state
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:359"
      attribute \amaranth.decoding "NORMAL_OPERATION/0"
      case 2'00
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:361"
        switch { \refresher_ui__request_to_refresh_soon }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:361"
          case 1'1
            assign \fsm_state$next 2'01
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:364"
      attribute \amaranth.decoding "REQUESTING_REFRESH/1"
      case 2'01
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:365"
        switch { \_ui__tb_fanout_flags__trigger }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:365"
          case 1'1
            assign \fsm_state$next 2'10
        end
      attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:368"
      attribute \amaranth.decoding "PERFORMING_REFRESH/2"
      case 2'10
        attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:369"
        switch { $13 }
          attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:369"
          case 1'1
            assign \fsm_state$next 2'00
        end
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sdram_rst
      case 1'1
        assign \fsm_state$next 2'00
    end
  end
  cell $dff $15
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \refresher_ui__request_to_refresh_soon$1$next
    connect \Q \refresher_ui__request_to_refresh_soon$1
  end
  cell $dff $16
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \refresher_ui__enable_refresh$next
    connect \Q \refresher_ui__enable_refresh
  end
  cell $dff $17
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \refresher_ui__refresh_in_progress$5$next
    connect \Q \refresher_ui__refresh_in_progress$5
  end
  cell $dff $18
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \refresher_ui__refresh_lapsed$6$next
    connect \Q \refresher_ui__refresh_lapsed$6
  end
  cell $dff $19
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__tb_fanin_flags__in_normal_operation$next
    connect \Q \ui__tb_fanin_flags__in_normal_operation
  end
  cell $dff $20
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__tb_fanin_flags__in_requesting_refresh$next
    connect \Q \ui__tb_fanin_flags__in_requesting_refresh
  end
  cell $dff $21
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__tb_fanin_flags__in_performing_refresh$next
    connect \Q \ui__tb_fanin_flags__in_performing_refresh
  end
  cell $dff $22
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__tb_fanout_flags__trigger$next
    connect \Q \_ui__tb_fanout_flags__trigger
  end
  cell $dff $23
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__request_to_refresh_soon$next
    connect \Q \ui__request_to_refresh_soon
  end
  cell $dff $24
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__enable_refresh$next
    connect \Q \_ui__enable_refresh
  end
  cell $dff $25
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__refresh_in_progress$next
    connect \Q \ui__refresh_in_progress
  end
  cell $dff $26
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \ui__refresh_lapsed$next
    connect \Q \ui__refresh_lapsed
  end
  cell $dff $27
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__tb_fanin_flags__in_normal_operation$next
    connect \Q \_ui__tb_fanin_flags__in_normal_operation
  end
  cell $dff $28
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__tb_fanin_flags__in_requesting_refresh$next
    connect \Q \_ui__tb_fanin_flags__in_requesting_refresh
  end
  cell $dff $29
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sdram_clk
    connect \D \_ui__tb_fanin_flags__in_performing_refresh$next
    connect \Q \_ui__tb_fanin_flags__in_performing_refresh
  end
  cell $dff $30
    parameter \CLK_POLARITY 1
    parameter \WIDTH 2
    connect \CLK \sdram_clk
    connect \D \fsm_state$next
    connect \Q \fsm_state
  end
  connect \sdram_rst 1'0
  connect \refresher_ui__enable_refresh$2 1'0
  connect \_ui__request_to_refresh_soon 1'0
  connect \_ui__refresh_in_progress 1'0
  connect \_ui__refresh_lapsed 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_0"
module \pin_led_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  cell \OB \led_0_0
    connect \I \led_0__o
    connect \O \led_0__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_1"
module \pin_led_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_1__io
  cell \OB \led_1_0
    connect \I \led_1__o
    connect \O \led_1__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_2"
module \pin_led_2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_2__io
  cell \OB \led_2_0
    connect \I \led_2__o
    connect \O \led_2__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_3"
module \pin_led_3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_3__io
  cell \OB \led_3_0
    connect \I \led_3__o
    connect \O \led_3__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_4"
module \pin_led_4
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_4__io
  cell \OB \led_4_0
    connect \I \led_4__o
    connect \O \led_4__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_5"
module \pin_led_5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_5__io
  cell \OB \led_5_0
    connect \I \led_5__o
    connect \O \led_5__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_6"
module \pin_led_6
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_6__io
  cell \OB \led_6_0
    connect \I \led_6__o
    connect \O \led_6__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_7"
module \pin_led_7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_7__io
  cell \OB \led_7_0
    connect \I \led_7__o
    connect \O \led_7__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__en"
module \pin_esp32_spi_0__en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__en__io
  cell \OB \esp32_spi_0__en_0
    connect \I \esp32_spi_0__en__o
    connect \O \esp32_spi_0__en__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__tx"
module \pin_esp32_spi_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__tx__io
  cell \OB \esp32_spi_0__tx_0
    connect \I \esp32_spi_0__tx__o
    connect \O \esp32_spi_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__rx"
module \pin_esp32_spi_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__rx__io
  cell \IB \esp32_spi_0__rx_0
    connect \I \esp32_spi_0__rx__io
    connect \O \esp32_spi_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio0"
module \pin_esp32_spi_0__gpio0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 1 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__oe
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio0__oe
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__i
  cell \BB \esp32_spi_0__gpio0_0
    connect \T { $1 }
    connect \I \esp32_spi_0__gpio0__o
    connect \O \esp32_spi_0__gpio0__i
    connect \B \esp32_spi_0__gpio0__io
  end
  connect \esp32_spi_0__gpio0__oe 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio4_copi"
module \pin_esp32_spi_0__gpio4_copi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio4_copi__i
  cell \IB \esp32_spi_0__gpio4_copi_0
    connect \I \esp32_spi_0__gpio4_copi__io
    connect \O \esp32_spi_0__gpio4_copi__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio5_cs"
module \pin_esp32_spi_0__gpio5_cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \esp32_spi_0__gpio5_cs__i_n
  cell \IB \esp32_spi_0__gpio5_cs_0
    connect \I \esp32_spi_0__gpio5_cs__io
    connect \O \esp32_spi_0__gpio5_cs__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio5_cs__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio5_cs__i_n
    connect \Y $1
  end
  process $group_0
    assign \esp32_spi_0__gpio5_cs__i 1'0
    assign \esp32_spi_0__gpio5_cs__i $1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio12_cipo"
module \pin_esp32_spi_0__gpio12_cipo
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 0 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio12_cipo__o
  cell \OB \esp32_spi_0__gpio12_cipo_0
    connect \I \esp32_spi_0__gpio12_cipo__o
    connect \O \esp32_spi_0__gpio12_cipo__io
  end
  connect \esp32_spi_0__gpio12_cipo__o 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio16_sclk"
module \pin_esp32_spi_0__gpio16_sclk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio16_sclk__i
  cell \IB \esp32_spi_0__gpio16_sclk_0
    connect \I \esp32_spi_0__gpio16_sclk__io
    connect \O \esp32_spi_0__gpio16_sclk__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rx"
module \pin_uart_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rx__io
  cell \IB \uart_0__rx_0
    connect \I \uart_0__rx__io
    connect \O \uart_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__tx"
module \pin_uart_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \uart_0__tx__io
  cell \OB \uart_0__tx_0
    connect \I \uart_0__tx__o
    connect \O \uart_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rts"
module \pin_uart_0__rts
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rts__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rts__io
  cell \IB \uart_0__rts_0
    connect \I \uart_0__rts__io
    connect \O \uart_0__rts__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__dtr"
module \pin_uart_0__dtr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__dtr__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__dtr__io
  cell \IB \uart_0__dtr_0
    connect \I \uart_0__dtr__io
    connect \O \uart_0__dtr__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_pwr_0"
module \pin_button_pwr_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_pwr_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \button_pwr_0__i_n
  cell \IB \button_pwr_0_0
    connect \I \button_pwr_0__io
    connect \O \button_pwr_0__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \button_pwr_0__i_n
    connect \Y $1
  end
  process $group_0
    assign \button_pwr_0__i 1'0
    assign \button_pwr_0__i $1
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_0"
module \pin_button_fire_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_0__io
  cell \IB \button_fire_0_0
    connect \I \button_fire_0__io
    connect \O \button_fire_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_1"
module \pin_button_fire_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_1__io
  cell \IB \button_fire_1_0
    connect \I \button_fire_1__io
    connect \O \button_fire_1__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_up_0"
module \pin_button_up_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_up_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_up_0__io
  cell \IB \button_up_0_0
    connect \I \button_up_0__io
    connect \O \button_up_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_down_0"
module \pin_button_down_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_down_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_down_0__io
  cell \IB \button_down_0_0
    connect \I \button_down_0__io
    connect \O \button_down_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_left_0"
module \pin_button_left_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_left_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_left_0__io
  cell \IB \button_left_0_0
    connect \I \button_left_0__io
    connect \O \button_left_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_right_0"
module \pin_button_right_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_right_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_right_0__io
  cell \IB \button_right_0_0
    connect \I \button_right_0__io
    connect \O \button_right_0__i
  end
end
attribute \generator "Amaranth"
attribute \top 1
attribute \amaranth.hierarchy "top"
module \top
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 0 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 2 \led_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 3 \led_2__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 4 \led_3__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 5 \led_4__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 6 \led_5__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 7 \led_6__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 8 \led_7__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 9 \esp32_spi_0__en__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 10 \esp32_spi_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 11 \esp32_spi_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 12 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 13 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 14 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 15 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 16 \uart_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 17 \uart_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 18 \uart_0__rts__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 19 \uart_0__dtr__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 20 \clk25_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 21 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 22 \button_fire_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 23 \button_fire_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 24 \button_up_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 25 \button_down_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 26 \button_left_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 27 \button_right_0__io
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 \clk
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 \rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:52"
  wire width 1 \rst$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 1 \sync_1e6_clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 1 \sync_1e6_clk$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:30"
  wire width 1 \sync_1e6_rst
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:53"
  wire width 1 \ecp5pll_sdram_clk
  cell \ecp5pll \ecp5pll
    connect \clk \clk
    connect \clk25_0__io \clk25_0__io
    connect \sdram_clk \ecp5pll_sdram_clk
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__pwr$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireA$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__fireB$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__up$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__down$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__left$next
  attribute \init 1'0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:67"
  wire width 1 \i_button_ffsync_i_unsync_buttons__right$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_button_ffsync_i_buttons__pwr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_button_ffsync_i_buttons__left
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:94"
  wire width 1 \i_button_ffsync_i_buttons__right
  cell \i_button_ffsync \i_button_ffsync
    connect \i_unsync_buttons__pwr \i_button_ffsync_i_unsync_buttons__pwr
    connect \i_unsync_buttons__fireA \i_button_ffsync_i_unsync_buttons__fireA
    connect \i_unsync_buttons__fireB \i_button_ffsync_i_unsync_buttons__fireB
    connect \i_unsync_buttons__up \i_button_ffsync_i_unsync_buttons__up
    connect \i_unsync_buttons__down \i_button_ffsync_i_unsync_buttons__down
    connect \i_unsync_buttons__left \i_button_ffsync_i_unsync_buttons__left
    connect \i_unsync_buttons__right \i_button_ffsync_i_unsync_buttons__right
    connect \i_buttons__pwr \i_button_ffsync_i_buttons__pwr
    connect \i_buttons__left \i_button_ffsync_i_buttons__left
    connect \rst \rst
    connect \i_buttons__right \i_button_ffsync_i_buttons__right
    connect \clk \clk
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__tb_fanin_flags__in_normal_operation
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__tb_fanin_flags__in_requesting_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__tb_fanin_flags__in_performing_refresh
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__tb_fanout_flags__trigger
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__tb_fanout_flags__trigger$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__request_to_refresh_soon
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__enable_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__enable_refresh$next
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:323"
  wire width 1 \tb_ui__refresh_lapsed
  cell \tb \tb
    connect \ui__tb_fanin_flags__in_normal_operation \tb_ui__tb_fanin_flags__in_normal_operation
    connect \ui__tb_fanin_flags__in_requesting_refresh \tb_ui__tb_fanin_flags__in_requesting_refresh
    connect \ui__tb_fanin_flags__in_performing_refresh \tb_ui__tb_fanin_flags__in_performing_refresh
    connect \ui__tb_fanout_flags__trigger \tb_ui__tb_fanout_flags__trigger
    connect \ui__request_to_refresh_soon \tb_ui__request_to_refresh_soon
    connect \ui__enable_refresh \tb_ui__enable_refresh
    connect \ui__refresh_in_progress \tb_ui__refresh_in_progress
    connect \ui__refresh_lapsed \tb_ui__refresh_lapsed
    connect \sdram_clk \ecp5pll_sdram_clk
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_0_led_0__o
  cell \pin_led_0 \pin_led_0
    connect \led_0__o \pin_led_0_led_0__o
    connect \led_0__io \led_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_1_led_1__o
  cell \pin_led_1 \pin_led_1
    connect \led_1__o \pin_led_1_led_1__o
    connect \led_1__io \led_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_2_led_2__o
  cell \pin_led_2 \pin_led_2
    connect \led_2__o \pin_led_2_led_2__o
    connect \led_2__io \led_2__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_3_led_3__o
  cell \pin_led_3 \pin_led_3
    connect \led_3__o \pin_led_3_led_3__o
    connect \led_3__io \led_3__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_4_led_4__o
  cell \pin_led_4 \pin_led_4
    connect \led_4__o \pin_led_4_led_4__o
    connect \led_4__io \led_4__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_5_led_5__o
  cell \pin_led_5 \pin_led_5
    connect \led_5__o \pin_led_5_led_5__o
    connect \led_5__io \led_5__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_6_led_6__o
  cell \pin_led_6 \pin_led_6
    connect \led_6__o \pin_led_6_led_6__o
    connect \led_6__io \led_6__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_led_7_led_7__o
  cell \pin_led_7 \pin_led_7
    connect \led_7__o \pin_led_7_led_7__o
    connect \led_7__io \led_7__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
  cell \pin_esp32_spi_0__en \pin_esp32_spi_0__en
    connect \esp32_spi_0__en__o \pin_esp32_spi_0__en_esp32_spi_0__en__o
    connect \esp32_spi_0__en__io \esp32_spi_0__en__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
  cell \pin_esp32_spi_0__tx \pin_esp32_spi_0__tx
    connect \esp32_spi_0__tx__o \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    connect \esp32_spi_0__tx__io \esp32_spi_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
  cell \pin_esp32_spi_0__rx \pin_esp32_spi_0__rx
    connect \esp32_spi_0__rx__i \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
    connect \esp32_spi_0__rx__io \esp32_spi_0__rx__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
  cell \pin_esp32_spi_0__gpio0 \pin_esp32_spi_0__gpio0
    connect \esp32_spi_0__gpio0__o \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    connect \esp32_spi_0__gpio0__io \esp32_spi_0__gpio0__io
  end
  cell \pin_esp32_spi_0__gpio4_copi \pin_esp32_spi_0__gpio4_copi
    connect \esp32_spi_0__gpio4_copi__io \esp32_spi_0__gpio4_copi__io
  end
  cell \pin_esp32_spi_0__gpio5_cs \pin_esp32_spi_0__gpio5_cs
    connect \esp32_spi_0__gpio5_cs__io \esp32_spi_0__gpio5_cs__io
  end
  cell \pin_esp32_spi_0__gpio12_cipo \pin_esp32_spi_0__gpio12_cipo
    connect \esp32_spi_0__gpio12_cipo__io \esp32_spi_0__gpio12_cipo__io
  end
  cell \pin_esp32_spi_0__gpio16_sclk \pin_esp32_spi_0__gpio16_sclk
    connect \esp32_spi_0__gpio16_sclk__io \esp32_spi_0__gpio16_sclk__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rx_uart_0__rx__i
  cell \pin_uart_0__rx \pin_uart_0__rx
    connect \uart_0__rx__i \pin_uart_0__rx_uart_0__rx__i
    connect \uart_0__rx__io \uart_0__rx__io
  end
  attribute \init 1'0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o$next
  cell \pin_uart_0__tx \pin_uart_0__tx
    connect \uart_0__tx__o \pin_uart_0__tx_uart_0__tx__o
    connect \uart_0__tx__io \uart_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rts_uart_0__rts__i
  cell \pin_uart_0__rts \pin_uart_0__rts
    connect \uart_0__rts__i \pin_uart_0__rts_uart_0__rts__i
    connect \uart_0__rts__io \uart_0__rts__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__dtr_uart_0__dtr__i
  cell \pin_uart_0__dtr \pin_uart_0__dtr
    connect \uart_0__dtr__i \pin_uart_0__dtr_uart_0__dtr__i
    connect \uart_0__dtr__io \uart_0__dtr__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_pwr_0_button_pwr_0__i
  cell \pin_button_pwr_0 \pin_button_pwr_0
    connect \button_pwr_0__i \pin_button_pwr_0_button_pwr_0__i
    connect \button_pwr_0__io \button_pwr_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_0_button_fire_0__i
  cell \pin_button_fire_0 \pin_button_fire_0
    connect \button_fire_0__i \pin_button_fire_0_button_fire_0__i
    connect \button_fire_0__io \button_fire_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_fire_1_button_fire_1__i
  cell \pin_button_fire_1 \pin_button_fire_1
    connect \button_fire_1__i \pin_button_fire_1_button_fire_1__i
    connect \button_fire_1__io \button_fire_1__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_up_0_button_up_0__i
  cell \pin_button_up_0 \pin_button_up_0
    connect \button_up_0__i \pin_button_up_0_button_up_0__i
    connect \button_up_0__io \button_up_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_down_0_button_down_0__i
  cell \pin_button_down_0 \pin_button_down_0
    connect \button_down_0__i \pin_button_down_0_button_down_0__i
    connect \button_down_0__io \button_down_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_left_0_button_left_0__i
  cell \pin_button_left_0 \pin_button_left_0
    connect \button_left_0__i \pin_button_left_0_button_left_0__i
    connect \button_left_0__io \button_left_0__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_right_0_button_right_0__i
  cell \pin_button_right_0 \pin_button_right_0
    connect \button_right_0__i \pin_button_right_0_button_right_0__i
    connect \button_right_0__io \button_right_0__io
  end
  attribute \init 4'0000
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:34"
  wire width 4 \clk_counter
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:34"
  wire width 4 \clk_counter$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  wire width 5 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  wire width 5 $2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  cell $add $3
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 5
    connect \A \clk_counter
    connect \B 1'1
    connect \Y $2
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  wire width 5 $4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 4'1011
    connect \Y $5
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:36"
  cell $mux $7
    parameter \WIDTH 5
    connect \A $2
    connect \B 5'00000
    connect \S $5
    connect \Y $4
  end
  connect $1 $4
  process $group_0
    assign \clk_counter$next \clk_counter
    assign \clk_counter$next $1 [3:0]
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \clk_counter$next 4'0000
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  wire width 1 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  cell $not $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \sync_1e6_clk
    connect \Y $8
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  wire width 1 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  wire width 1 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  cell $eq $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \clk_counter
    connect \B 1'0
    connect \Y $11
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/clks.py:37"
  cell $mux $13
    parameter \WIDTH 1
    connect \A \sync_1e6_clk
    connect \B $8
    connect \S $11
    connect \Y $10
  end
  process $group_1
    assign \sync_1e6_clk$next \sync_1e6_clk
    assign \sync_1e6_clk$next $10
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \sync_1e6_clk$next 1'0
    end
  end
  process $group_2
    assign \i_button_ffsync_i_unsync_buttons__pwr$next \i_button_ffsync_i_unsync_buttons__pwr
    assign \i_button_ffsync_i_unsync_buttons__pwr$next { \pin_button_pwr_0_button_pwr_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__pwr$next 1'0
    end
  end
  process $group_3
    assign \i_button_ffsync_i_unsync_buttons__fireA$next \i_button_ffsync_i_unsync_buttons__fireA
    assign \i_button_ffsync_i_unsync_buttons__fireA$next { \pin_button_fire_0_button_fire_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireA$next 1'0
    end
  end
  process $group_4
    assign \i_button_ffsync_i_unsync_buttons__fireB$next \i_button_ffsync_i_unsync_buttons__fireB
    assign \i_button_ffsync_i_unsync_buttons__fireB$next { \pin_button_fire_1_button_fire_1__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__fireB$next 1'0
    end
  end
  process $group_5
    assign \i_button_ffsync_i_unsync_buttons__up$next \i_button_ffsync_i_unsync_buttons__up
    assign \i_button_ffsync_i_unsync_buttons__up$next { \pin_button_up_0_button_up_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__up$next 1'0
    end
  end
  process $group_6
    assign \i_button_ffsync_i_unsync_buttons__down$next \i_button_ffsync_i_unsync_buttons__down
    assign \i_button_ffsync_i_unsync_buttons__down$next { \pin_button_down_0_button_down_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__down$next 1'0
    end
  end
  process $group_7
    assign \i_button_ffsync_i_unsync_buttons__left$next \i_button_ffsync_i_unsync_buttons__left
    assign \i_button_ffsync_i_unsync_buttons__left$next { \pin_button_left_0_button_left_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__left$next 1'0
    end
  end
  process $group_8
    assign \i_button_ffsync_i_unsync_buttons__right$next \i_button_ffsync_i_unsync_buttons__right
    assign \i_button_ffsync_i_unsync_buttons__right$next { \pin_button_right_0_button_right_0__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \sync_1e6_rst
      case 1'1
        assign \i_button_ffsync_i_unsync_buttons__right$next 1'0
    end
  end
  process $group_9
    assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    assign { \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next } { \pin_uart_0__rx_uart_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next 1'0
    end
  end
  process $group_10
    assign \pin_uart_0__tx_uart_0__tx__o$next \pin_uart_0__tx_uart_0__tx__o
    assign { \pin_uart_0__tx_uart_0__tx__o$next } { \pin_esp32_spi_0__rx_esp32_spi_0__rx__i }
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_uart_0__tx_uart_0__tx__o$next 1'0
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $14
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $eq $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $14
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $16
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $eq $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $16
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $18
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $14
    connect \B $16
    connect \Y $18
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $20
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $20
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $22
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $22
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
  wire width 1 $24
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
  cell $and $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $20
    connect \B $22
    connect \Y $24
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $26
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $27
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $26
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $28
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $28
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
  wire width 1 $30
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
  cell $and $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $26
    connect \B $28
    connect \Y $30
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $32
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $34
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $34
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
  wire width 1 $36
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
  cell $and $37
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $32
    connect \B $34
    connect \Y $36
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $38
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $not $39
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $38
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  wire width 1 $40
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:123"
  cell $and $41
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $38
    connect \Y $40
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:126"
  wire width 1 $42
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:126"
  cell $not $43
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $42
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:126"
  wire width 1 $44
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:126"
  cell $and $45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $42
    connect \Y $44
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:129"
  wire width 1 $46
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:129"
  cell $not $47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $46
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:129"
  wire width 1 $48
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:129"
  cell $and $49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'0
    connect \B $46
    connect \Y $48
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:132"
  wire width 1 $50
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:132"
  cell $not $51
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \i_button_ffsync_i_buttons__pwr
    connect \Y $50
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:132"
  wire width 1 $52
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:132"
  cell $and $53
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $50
    connect \Y $52
  end
  process $group_11
    assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next \pin_esp32_spi_0__en_esp32_spi_0__en__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
    switch { $36 $30 $24 $18 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'---1
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $40
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
      case 4'--1-
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $44
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
      case 4'-1--
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $48
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
      case 4'1---
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o$next } $52
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__en_esp32_spi_0__en__o$next 1'0
    end
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $54
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $eq $55
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $54
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $56
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $eq $57
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $56
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  wire width 1 $58
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
  cell $and $59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $54
    connect \B $56
    connect \Y $58
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $60
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $61
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $60
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $62
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $63
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $62
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
  wire width 1 $64
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
  cell $and $65
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $60
    connect \B $62
    connect \Y $64
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $66
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $67
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $66
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $68
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $69
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $68
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
  wire width 1 $70
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
  cell $and $71
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $66
    connect \B $68
    connect \Y $70
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $72
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $73
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $72
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $74
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $75
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $74
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
  wire width 1 $76
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
  cell $and $77
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $72
    connect \B $74
    connect \Y $76
  end
  process $group_12
    assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
    switch { $76 $70 $64 $58 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:122"
      case 4'---1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:125"
      case 4'--1-
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:128"
      case 4'-1--
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amtest/amtest/boards/ulx3s/common/upload.py:131"
      case 4'1---
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_normal_operation
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_normal_operation$next
  process $group_13
    assign \ui__tb_fanin_flags__in_normal_operation$next \ui__tb_fanin_flags__in_normal_operation
    assign \ui__tb_fanin_flags__in_normal_operation$next \tb_ui__tb_fanin_flags__in_normal_operation
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_normal_operation$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_requesting_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_requesting_refresh$next
  process $group_14
    assign \ui__tb_fanin_flags__in_requesting_refresh$next \ui__tb_fanin_flags__in_requesting_refresh
    assign \ui__tb_fanin_flags__in_requesting_refresh$next \tb_ui__tb_fanin_flags__in_requesting_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_requesting_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_performing_refresh
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanin_flags__in_performing_refresh$next
  process $group_15
    assign \ui__tb_fanin_flags__in_performing_refresh$next \ui__tb_fanin_flags__in_performing_refresh
    assign \ui__tb_fanin_flags__in_performing_refresh$next \tb_ui__tb_fanin_flags__in_performing_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanin_flags__in_performing_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanout_flags__trigger
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__tb_fanout_flags__trigger$next
  process $group_16
    assign \tb_ui__tb_fanout_flags__trigger$next \tb_ui__tb_fanout_flags__trigger
    assign \tb_ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \tb_ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__request_to_refresh_soon
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__request_to_refresh_soon$next
  process $group_17
    assign \ui__request_to_refresh_soon$next \ui__request_to_refresh_soon
    assign \ui__request_to_refresh_soon$next \tb_ui__request_to_refresh_soon
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__request_to_refresh_soon$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__enable_refresh
  process $group_18
    assign \tb_ui__enable_refresh$next \tb_ui__enable_refresh
    assign \tb_ui__enable_refresh$next \ui__enable_refresh
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \tb_ui__enable_refresh$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__refresh_in_progress
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__refresh_in_progress$next
  process $group_19
    assign \ui__refresh_in_progress$next \ui__refresh_in_progress
    assign \ui__refresh_in_progress$next \tb_ui__refresh_in_progress
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__refresh_in_progress$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__refresh_lapsed
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:528"
  wire width 1 \ui__refresh_lapsed$next
  process $group_20
    assign \ui__refresh_lapsed$next \ui__refresh_lapsed
    assign \ui__refresh_lapsed$next \tb_ui__refresh_lapsed
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__refresh_lapsed$next 1'0
    end
  end
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:535"
  wire width 1 \start
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:535"
  wire width 1 \start$next
  process $group_21
    assign \start$next \start
    assign \start$next \i_button_ffsync_i_buttons__left
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \start$next 1'0
    end
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $78
  attribute \amaranth.sample_reg 1
  attribute \init 1'0
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:535"
  wire width 1 $sample$s$start$sync$1
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:535"
  wire width 1 $sample$s$start$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $79
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$start$sync$1
    connect \Y $78
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $80
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $81
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $78
    connect \B \start
    connect \Y $80
  end
  process $group_22
    assign \ui__tb_fanout_flags__trigger$next \ui__tb_fanout_flags__trigger
    assign \ui__tb_fanout_flags__trigger$next $80
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \ui__tb_fanout_flags__trigger$next 1'0
    end
  end
  process $group_23
    assign \rst$next \rst
    assign \rst$next \i_button_ffsync_i_buttons__right
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \rst
      case 1'1
        assign \rst$next 1'0
    end
  end
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:544"
  wire width 8 $82
  attribute \src "amaram/sdram_n_fifo_interface/controller_refresh.py:544"
  cell $pos $83
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \Y_WIDTH 8
    connect \A { \i_button_ffsync_i_buttons__left \i_button_ffsync_i_buttons__right \ui__tb_fanin_flags__in_performing_refresh \ui__tb_fanin_flags__in_requesting_refresh \ui__tb_fanin_flags__in_normal_operation }
    connect \Y $82
  end
  process $group_24
    assign \pin_led_0_led_0__o 1'0
    assign \pin_led_1_led_1__o 1'0
    assign \pin_led_2_led_2__o 1'0
    assign \pin_led_3_led_3__o 1'0
    assign \pin_led_4_led_4__o 1'0
    assign \pin_led_5_led_5__o 1'0
    assign \pin_led_6_led_6__o 1'0
    assign \pin_led_7_led_7__o 1'0
    assign { { \pin_led_7_led_7__o } { \pin_led_6_led_6__o } { \pin_led_5_led_5__o } { \pin_led_4_led_4__o } { \pin_led_3_led_3__o } { \pin_led_2_led_2__o } { \pin_led_1_led_1__o } { \pin_led_0_led_0__o } } $82
  end
  process $group_32
    assign $sample$s$start$sync$1$next $sample$s$start$sync$1
    assign $sample$s$start$sync$1$next \start
  end
  cell $dff $84
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D $sample$s$start$sync$1$next
    connect \Q $sample$s$start$sync$1
  end
  cell $dff $85
    parameter \CLK_POLARITY 1
    parameter \WIDTH 4
    connect \CLK \clk
    connect \D \clk_counter$next
    connect \Q \clk_counter
  end
  cell $dff $86
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \sync_1e6_clk$next
    connect \Q \sync_1e6_clk
  end
  cell $dff $87
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__tx_esp32_spi_0__tx__o$next
    connect \Q \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  end
  cell $dff $88
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_uart_0__tx_uart_0__tx__o$next
    connect \Q \pin_uart_0__tx_uart_0__tx__o
  end
  cell $dff $89
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__en_esp32_spi_0__en__o$next
    connect \Q \pin_esp32_spi_0__en_esp32_spi_0__en__o
  end
  cell $dff $90
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o$next
    connect \Q \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  end
  cell $dff $91
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_normal_operation$next
    connect \Q \ui__tb_fanin_flags__in_normal_operation
  end
  cell $dff $92
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_requesting_refresh$next
    connect \Q \ui__tb_fanin_flags__in_requesting_refresh
  end
  cell $dff $93
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanin_flags__in_performing_refresh$next
    connect \Q \ui__tb_fanin_flags__in_performing_refresh
  end
  cell $dff $94
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \tb_ui__tb_fanout_flags__trigger$next
    connect \Q \tb_ui__tb_fanout_flags__trigger
  end
  cell $dff $95
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__request_to_refresh_soon$next
    connect \Q \ui__request_to_refresh_soon
  end
  cell $dff $96
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \tb_ui__enable_refresh$next
    connect \Q \tb_ui__enable_refresh
  end
  cell $dff $97
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__refresh_in_progress$next
    connect \Q \ui__refresh_in_progress
  end
  cell $dff $98
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__refresh_lapsed$next
    connect \Q \ui__refresh_lapsed
  end
  cell $dff $99
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \start$next
    connect \Q \start
  end
  cell $dff $100
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \ui__tb_fanout_flags__trigger$next
    connect \Q \ui__tb_fanout_flags__trigger
  end
  cell $dff $101
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \clk
    connect \D \rst$next
    connect \Q \rst
  end
  cell $dff $102
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__pwr$next
    connect \Q \i_button_ffsync_i_unsync_buttons__pwr
  end
  cell $dff $103
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__fireA$next
    connect \Q \i_button_ffsync_i_unsync_buttons__fireA
  end
  cell $dff $104
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__fireB$next
    connect \Q \i_button_ffsync_i_unsync_buttons__fireB
  end
  cell $dff $105
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__up$next
    connect \Q \i_button_ffsync_i_unsync_buttons__up
  end
  cell $dff $106
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__down$next
    connect \Q \i_button_ffsync_i_unsync_buttons__down
  end
  cell $dff $107
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__left$next
    connect \Q \i_button_ffsync_i_unsync_buttons__left
  end
  cell $dff $108
    parameter \CLK_POLARITY 1
    parameter \WIDTH 1
    connect \CLK \sync_1e6_clk
    connect \D \i_button_ffsync_i_unsync_buttons__right$next
    connect \Q \i_button_ffsync_i_unsync_buttons__right
  end
  connect \sync_1e6_rst 1'0
  connect \ui__enable_refresh 1'0
end
