# Automatically generated by Amaranth 0.3. Do not edit.
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.interface"
module \interface
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:499"
  wire width 1 input 1 \spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 2 \spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 3 \spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_device__sdo$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 4 \spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:483"
  wire width 1 output 5 \idle
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:484"
  wire width 1 output 6 \stalled
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:474"
  wire width 8 output 7 \command
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:474"
  wire width 8 \command$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:480"
  wire width 1 output 8 \word_complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:480"
  wire width 1 \word_complete$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:478"
  wire width 16 output 9 \word_received
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:478"
  wire width 16 \word_received$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:479"
  wire width 16 input 10 \word_to_send
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:475"
  wire width 1 \command_ready
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:475"
  wire width 1 \command_ready$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
  wire width 3 \fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
  wire width 3 \fsm_state$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:503"
  wire width 5 \bit_count
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:503"
  wire width 5 \bit_count$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  wire width 1 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  cell $lt $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 4'1000
    connect \Y $1
  end
  process $group_0
    assign \command_ready$next \command_ready
    assign \command_ready$next 1'0
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
        switch { $1 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:556"
          case
            assign \command_ready$next 1'1
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
    end
    sync init
      update \command_ready 1'0
    sync posedge \clk
      update \command_ready \command_ready$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  wire width 1 $3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  cell $lt $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 5'10000
    connect \Y $3
  end
  process $group_1
    assign \word_complete$next \word_complete
    assign \word_complete$next 1'0
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
        switch { $3 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:594"
          case
            assign \word_complete$next 1'1
        end
    end
    sync init
      update \word_complete 1'0
    sync posedge \clk
      update \word_complete \word_complete$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:518"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:518"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'0
    connect \Y $5
  end
  process $group_2
    assign \idle 1'0
    assign \idle $5
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:519"
  wire width 1 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:519"
  cell $eq $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 3
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \fsm_state
    connect \B 1'1
    connect \Y $7
  end
  process $group_3
    assign \stalled 1'0
    assign \stalled $7
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:527"
  wire width 1 $9
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:527"
  cell $not $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__cs
    connect \Y $9
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:544"
  wire width 1 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:544"
  cell $not $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__cs
    connect \Y $11
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  wire width 1 $13
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  cell $lt $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 4'1000
    connect \Y $13
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:580"
  wire width 1 $15
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:580"
  cell $not $16
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__cs
    connect \Y $15
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  wire width 1 $17
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  cell $lt $18
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 5'10000
    connect \Y $17
  end
  process $group_4
    assign \fsm_state$next \fsm_state
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:527"
        switch { $9 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:527"
          case 1'1
            assign \fsm_state$next 3'000
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:536"
        switch { \spi_device__cs }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:536"
          case 1'1
            assign \fsm_state$next 3'010
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:544"
        switch { $11 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:544"
          case 1'1
            assign \fsm_state$next 3'000
        end
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
        switch { $13 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:556"
          case
            assign \fsm_state$next 3'011
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
        assign \fsm_state$next 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
        assign \fsm_state$next 3'101
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:580"
        switch { $15 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:580"
          case 1'1
            assign \fsm_state$next 3'000
        end
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
        switch { $17 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:594"
          case
            assign \fsm_state$next 3'001
        end
    end
    sync init
      update \fsm_state 3'001
    sync posedge \clk
      update \fsm_state \fsm_state$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  wire width 1 $19
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  cell $lt $20
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 4'1000
    connect \Y $19
  end
  attribute \amaranth.sample_reg 1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:499"
  wire width 1 $sample$s$spi_device__sck$sync$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:499"
  wire width 1 $sample$s$spi_device__sck$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $21
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $22
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__sck
    connect \Y $21
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $23
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $24
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$spi_device__sck$sync$1
    connect \B $21
    connect \Y $23
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:551"
  wire width 6 $25
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:551"
  wire width 6 $26
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:551"
  cell $add $27
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \bit_count
    connect \B 1'1
    connect \Y $26
  end
  connect $25 $26
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  wire width 1 $28
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  cell $lt $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 5'10000
    connect \Y $28
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $30
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__sck
    connect \Y $30
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$spi_device__sck$sync$1
    connect \B $30
    connect \Y $32
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:589"
  wire width 6 $34
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:589"
  wire width 6 $35
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:589"
  cell $add $36
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \bit_count
    connect \B 1'1
    connect \Y $35
  end
  connect $34 $35
  process $group_5
    assign \bit_count$next \bit_count
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
        assign \bit_count$next 5'00000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
        switch { $19 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:549"
            switch { $23 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:549"
              case 1'1
                assign \bit_count$next $25 [4:0]
            end
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:556"
          case
            assign \bit_count$next 5'00000
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
        switch { $28 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:587"
            switch { $32 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:587"
              case 1'1
                assign \bit_count$next $34 [4:0]
            end
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:594"
          case
            assign \bit_count$next 5'00000
        end
    end
    sync init
      update \bit_count 5'00000
    sync posedge \clk
      update \bit_count \bit_count$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:506"
  wire width 8 \current_command
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:506"
  wire width 8 \current_command$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  wire width 1 $37
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  cell $lt $38
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 4'1000
    connect \Y $37
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $39
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $40
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__sck
    connect \Y $39
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $41
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $42
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$spi_device__sck$sync$1
    connect \B $39
    connect \Y $41
  end
  process $group_6
    assign \current_command$next \current_command
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
        switch { $37 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:549"
            switch { $41 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:549"
              case 1'1
                assign \current_command$next { \current_command [6:0] \spi_device__sdi }
            end
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:556"
          case
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
    end
    sync init
      update \current_command 8'00000000
    sync posedge \clk
      update \current_command \current_command$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  wire width 1 $43
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
  cell $lt $44
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 4'1000
    connect \Y $43
  end
  process $group_7
    assign \command$next \command
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
        switch { $43 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:548"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:556"
          case
            assign \command$next \current_command
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
    end
    sync init
      update \command 8'00000000
    sync posedge \clk
      update \command \command$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:507"
  wire width 16 \current_word
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:507"
  wire width 16 \current_word$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  wire width 1 $45
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  cell $lt $46
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 5'10000
    connect \Y $45
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $47
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $48
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \spi_device__sck
    connect \Y $47
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $49
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $50
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$spi_device__sck$sync$1
    connect \B $47
    connect \Y $49
  end
  process $group_8
    assign \current_word$next \current_word
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
        assign \current_word$next \word_to_send
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
        switch { $45 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:587"
            switch { $49 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:587"
              case 1'1
                assign \current_word$next { \current_word [14:0] \spi_device__sdi }
            end
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:594"
          case
        end
    end
    sync init
      update \current_word 16'0000000000000000
    sync posedge \clk
      update \current_word \current_word$next
  end
  process $group_9
    assign \spi_device__sdo$next \spi_device__sdo
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        assign \spi_device__sdo$next \current_word [15]
    end
    sync init
      update \spi_device__sdo 1'0
    sync posedge \clk
      update \spi_device__sdo \spi_device__sdo$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  wire width 1 $51
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
  cell $lt $52
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \bit_count
    connect \B 5'10000
    connect \Y $51
  end
  process $group_10
    assign \word_received$next \word_received
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:516"
    switch \fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:524"
      attribute \amaranth.decoding "STALL/1"
      case 3'001
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:533"
      attribute \amaranth.decoding "IDLE/0"
      case 3'000
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:541"
      attribute \amaranth.decoding "RECEIVE_COMMAND/2"
      case 3'010
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:566"
      attribute \amaranth.decoding "PROCESSING/3"
      case 3'011
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:571"
      attribute \amaranth.decoding "LATCH_OUTPUT/4"
      case 3'100
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:577"
      attribute \amaranth.decoding "SHIFT_DATA/5"
      case 3'101
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
        switch { $51 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:586"
          case 1'1
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:594"
          case
            assign \word_received$next \current_word
        end
    end
    sync init
      update \word_received 16'0000000000000000
    sync posedge \clk
      update \word_received \word_received$next
  end
  process $group_11
    assign $sample$s$spi_device__sck$sync$1$next $sample$s$spi_device__sck$sync$1
    assign $sample$s$spi_device__sck$sync$1$next \spi_device__sck
    sync init
      update $sample$s$spi_device__sck$sync$1 1'0
    sync posedge \clk
      update $sample$s$spi_device__sck$sync$1 $sample$s$spi_device__sck$sync$1$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.produce_enc"
module \produce_enc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:149"
  wire width 6 input 0 \i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:150"
  wire width 6 output 1 \o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:154"
  wire width 6 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:154"
  cell $xor $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 6
    connect \A \i
    connect \B \i [5:1]
    connect \Y $1
  end
  process $group_0
    assign \o 6'000000
    assign \o $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.produce_cdc"
module \produce_cdc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:344"
  wire width 6 input 1 \produce_w_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:345"
  wire width 6 output 2 \produce_r_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next \produce_w_gry
    sync init
      update \stage0 6'000000
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 6'000000
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \produce_r_gry 6'000000
    assign \produce_r_gry \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.consume_enc"
module \consume_enc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:149"
  wire width 6 input 0 \i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:150"
  wire width 6 output 1 \o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:154"
  wire width 6 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:154"
  cell $xor $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 6
    connect \A \i
    connect \B \i [5:1]
    connect \Y $1
  end
  process $group_0
    assign \o 6'000000
    assign \o $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.consume_cdc"
module \consume_cdc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:353"
  wire width 6 input 1 \consume_r_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:354"
  wire width 6 output 2 \consume_w_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next \consume_r_gry
    sync init
      update \stage0 6'000000
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 6 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 6'000000
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \consume_w_gry 6'000000
    assign \consume_w_gry \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.consume_dec"
module \consume_dec
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 input 0 \i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 output 1 \o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [5]
    connect \B \i [4]
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [4]
    connect \B \i [3]
    connect \Y $3
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [3]
    connect \B \i [2]
    connect \Y $5
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [2]
    connect \B \i [1]
    connect \Y $7
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $9
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [1]
    connect \B \i [0]
    connect \Y $9
  end
  process $group_0
    assign \o 6'000000
    assign \o [5] \i [5]
    assign \o [4] $1
    assign \o [3] $3
    assign \o [2] $5
    assign \o [1] $7
    assign \o [0] $9
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.produce_dec"
module \produce_dec
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 input 0 \i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 output 1 \o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [5]
    connect \B \i [4]
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [4]
    connect \B \i [3]
    connect \Y $3
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [3]
    connect \B \i [2]
    connect \Y $5
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [2]
    connect \B \i [1]
    connect \Y $7
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $9
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [1]
    connect \B \i [0]
    connect \Y $9
  end
  process $group_0
    assign \o 6'000000
    assign \o [5] \i [5]
    assign \o [4] $1
    assign \o [3] $3
    assign \o [2] $5
    assign \o [1] $7
    assign \o [0] $9
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.rst_cdc"
module \rst_cdc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:415"
  wire width 1 output 1 \r_rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:163"
  wire width 1 \async_ff_clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:163"
  wire width 1 \async_ff_rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:164"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:164"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next 1'0
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \async_ff_rst
      case 1'1
        assign \stage0$next 1'1
    end
    sync init
      update \stage0 1'1
    sync posedge \async_ff_clk
      update \stage0 \stage0$next
    sync posedge \async_ff_rst
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:164"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:164"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/xfrm.py:519"
    switch \async_ff_rst
      case 1'1
        assign \stage1$next 1'1
    end
    sync init
      update \stage1 1'1
    sync posedge \async_ff_clk
      update \stage1 \stage1$next
    sync posedge \async_ff_rst
      update \stage1 \stage1$next
  end
  process $group_2
    assign \async_ff_rst 1'0
    assign \async_ff_rst 1'0
    sync init
  end
  process $group_3
    assign \async_ff_clk 1'0
    assign \async_ff_clk \clk
    sync init
  end
  process $group_4
    assign \r_rst 1'0
    assign \r_rst \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered.rst_dec"
module \rst_dec
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 input 0 \i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 output 1 \o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [5]
    connect \B \i [4]
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [4]
    connect \B \i [3]
    connect \Y $3
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [3]
    connect \B \i [2]
    connect \Y $5
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [2]
    connect \B \i [1]
    connect \Y $7
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  wire width 1 $9
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:183"
  cell $xor $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \o [1]
    connect \B \i [0]
    connect \Y $9
  end
  process $group_0
    assign \o 6'000000
    assign \o [5] \i [5]
    assign \o [4] $1
    assign \o [3] $3
    assign \o [2] $5
    assign \o [1] $7
    assign \o [0] $9
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.unbuffered"
module \unbuffered
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:78"
  wire width 16 input 1 \w_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  wire width 1 output 2 \w_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:80"
  wire width 1 input 3 \w_en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  wire width 6 output 4 \r_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 6 output 5 \w_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 6 \w_level$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:83"
  wire width 16 output 6 \r_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  wire width 1 output 7 \r_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:311"
  wire width 1 output 8 \r_rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:311"
  wire width 1 \r_rst$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:85"
  wire width 1 input 9 \r_en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:149"
  wire width 6 \produce_enc_i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:150"
  wire width 6 \produce_enc_o
  cell \produce_enc \produce_enc
    connect \i \produce_enc_i
    connect \o \produce_enc_o
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:344"
  wire width 6 \produce_cdc_produce_w_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:344"
  wire width 6 \produce_cdc_produce_w_gry$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:345"
  wire width 6 \produce_cdc_produce_r_gry
  cell \produce_cdc \produce_cdc
    connect \clk \clk
    connect \produce_w_gry \produce_cdc_produce_w_gry
    connect \produce_r_gry \produce_cdc_produce_r_gry
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:149"
  wire width 6 \consume_enc_i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:150"
  wire width 6 \consume_enc_o
  cell \consume_enc \consume_enc
    connect \i \consume_enc_i
    connect \o \consume_enc_o
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:353"
  wire width 6 \consume_cdc_consume_r_gry
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:353"
  wire width 6 \consume_cdc_consume_r_gry$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:354"
  wire width 6 \consume_cdc_consume_w_gry
  cell \consume_cdc \consume_cdc
    connect \clk \clk
    connect \consume_r_gry \consume_cdc_consume_r_gry
    connect \consume_w_gry \consume_cdc_consume_w_gry
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 \consume_dec_i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 \consume_dec_o
  cell \consume_dec \consume_dec
    connect \i \consume_dec_i
    connect \o \consume_dec_o
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 \produce_dec_i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 \produce_dec_o
  cell \produce_dec \produce_dec
    connect \i \produce_dec_i
    connect \o \produce_dec_o
  end
  memory width 16 size 32 \storage
  cell $meminit $1
    parameter \MEMID "\\storage"
    parameter \ABITS 6
    parameter \WIDTH 16
    parameter \WORDS 32
    parameter \PRIORITY 0
    connect \ADDR 6'000000
    connect \DATA 512'00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:387"
  wire width 1 \storage_w_en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:387"
  wire width 5 \storage_w_addr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:387"
  wire width 16 \storage_w_data
  cell $memwr \w_port
    parameter \MEMID "\\storage"
    parameter \ABITS 5
    parameter \WIDTH 16
    parameter \CLK_ENABLE 1
    parameter \CLK_POLARITY 1
    parameter \PRIORITY 0
    connect \CLK \clk
    connect \EN { { \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en \storage_w_en } }
    connect \ADDR \storage_w_addr
    connect \DATA \storage_w_data
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:388"
  wire width 1 \storage_r_en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:388"
  wire width 5 \storage_r_addr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:388"
  wire width 16 \storage_r_data
  cell $memrd \r_port
    parameter \MEMID "\\storage"
    parameter \ABITS 5
    parameter \WIDTH 16
    parameter \CLK_ENABLE 1
    parameter \CLK_POLARITY 1
    parameter \TRANSPARENT 0
    connect \CLK \clk
    connect \EN \storage_r_en
    connect \ADDR \storage_r_addr
    connect \DATA \storage_r_data
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:415"
  wire width 1 \rst_cdc_r_rst
  cell \rst_cdc \rst_cdc
    connect \clk \clk
    connect \r_rst \rst_cdc_r_rst
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:176"
  wire width 6 \rst_dec_i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/coding.py:177"
  wire width 6 \rst_dec_o
  cell \rst_dec \rst_dec
    connect \i \rst_dec_i
    connect \o \rst_dec_o
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:334"
  wire width 6 \produce_w_nxt
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:335"
  wire width 7 $2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:333"
  wire width 6 \produce_w_bin
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:333"
  wire width 6 \produce_w_bin$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:329"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:329"
  cell $and $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \w_rdy
    connect \B \w_en
    connect \Y $3
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:335"
  wire width 7 $5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:335"
  cell $add $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 7
    connect \A \produce_w_bin
    connect \B $3
    connect \Y $5
  end
  connect $2 $5
  process $group_0
    assign \produce_w_nxt 6'000000
    assign \produce_w_nxt $2 [5:0]
    sync init
  end
  process $group_1
    assign \produce_w_bin$next \produce_w_bin
    assign \produce_w_bin$next \produce_w_nxt
    sync init
      update \produce_w_bin 6'000000
    sync posedge \clk
      update \produce_w_bin \produce_w_bin$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:340"
  wire width 6 \consume_r_nxt
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:341"
  wire width 7 $7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:339"
  wire width 6 \consume_r_bin
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:339"
  wire width 6 \consume_r_bin$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:330"
  wire width 1 $8
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:330"
  cell $and $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_rdy
    connect \B \r_en
    connect \Y $8
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:341"
  wire width 7 $10
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:341"
  cell $add $11
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 7
    connect \A \consume_r_bin
    connect \B $8
    connect \Y $10
  end
  connect $7 $10
  process $group_2
    assign \consume_r_nxt 6'000000
    assign \consume_r_nxt $7 [5:0]
    sync init
  end
  process $group_3
    assign \consume_r_bin$next \consume_r_bin
    assign \consume_r_bin$next \consume_r_nxt
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
    switch { \rst_cdc_r_rst }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
      case 1'1
        assign \consume_r_bin$next \rst_dec_o
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:431"
      case
    end
    sync init
      update \consume_r_bin 6'000000
    sync posedge \clk
      update \consume_r_bin \consume_r_bin$next
  end
  process $group_4
    assign \produce_enc_i 6'000000
    assign \produce_enc_i \produce_w_nxt
    sync init
  end
  process $group_5
    assign \produce_cdc_produce_w_gry$next \produce_cdc_produce_w_gry
    assign \produce_cdc_produce_w_gry$next \produce_enc_o
    sync init
      update \produce_cdc_produce_w_gry 6'000000
    sync posedge \clk
      update \produce_cdc_produce_w_gry \produce_cdc_produce_w_gry$next
  end
  process $group_6
    assign \consume_enc_i 6'000000
    assign \consume_enc_i \consume_r_nxt
    sync init
  end
  process $group_7
    assign \consume_cdc_consume_r_gry$next \consume_cdc_consume_r_gry
    assign \consume_cdc_consume_r_gry$next \consume_enc_o
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
    switch { \rst_cdc_r_rst }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
      case 1'1
        assign \consume_cdc_consume_r_gry$next \produce_cdc_produce_r_gry
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:431"
      case
    end
    sync init
      update \consume_cdc_consume_r_gry 6'000000
    sync posedge \clk
      update \consume_cdc_consume_r_gry \consume_cdc_consume_r_gry$next
  end
  process $group_8
    assign \consume_dec_i 6'000000
    assign \consume_dec_i \consume_cdc_consume_w_gry
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:362"
  wire width 6 \consume_w_bin
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:362"
  wire width 6 \consume_w_bin$next
  process $group_9
    assign \consume_w_bin$next \consume_w_bin
    assign \consume_w_bin$next \consume_dec_o
    sync init
      update \consume_w_bin 6'000000
    sync posedge \clk
      update \consume_w_bin \consume_w_bin$next
  end
  process $group_10
    assign \produce_dec_i 6'000000
    assign \produce_dec_i \produce_cdc_produce_r_gry
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:368"
  wire width 6 \produce_r_bin
  process $group_11
    assign \produce_r_bin 6'000000
    assign \produce_r_bin \produce_dec_o
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:374"
  wire width 1 \w_full
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  wire width 1 $12
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  cell $ne $13
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \produce_cdc_produce_w_gry [5]
    connect \B \consume_cdc_consume_w_gry [5]
    connect \Y $12
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:378"
  wire width 1 $14
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:378"
  cell $ne $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \produce_cdc_produce_w_gry [4]
    connect \B \consume_cdc_consume_w_gry [4]
    connect \Y $14
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  wire width 1 $16
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  cell $and $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $12
    connect \B $14
    connect \Y $16
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:379"
  wire width 1 $18
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:379"
  cell $eq $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 4
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \produce_cdc_produce_w_gry [3:0]
    connect \B \consume_cdc_consume_w_gry [3:0]
    connect \Y $18
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  wire width 1 $20
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:377"
  cell $and $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $16
    connect \B $18
    connect \Y $20
  end
  process $group_12
    assign \w_full 1'0
    assign \w_full $20
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:375"
  wire width 1 \r_empty
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:380"
  wire width 1 $22
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:380"
  cell $eq $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 6
    parameter \Y_WIDTH 1
    connect \A \consume_cdc_consume_r_gry
    connect \B \produce_cdc_produce_r_gry
    connect \Y $22
  end
  process $group_13
    assign \r_empty 1'0
    assign \r_empty $22
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
    switch { \rst_cdc_r_rst }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
      case 1'1
        assign \r_empty 1'1
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:431"
      case
    end
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:383"
  wire width 7 $24
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:383"
  wire width 7 $25
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:383"
  cell $sub $26
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 6
    parameter \Y_WIDTH 7
    connect \A \produce_w_bin
    connect \B \consume_w_bin
    connect \Y $25
  end
  connect $24 $25
  process $group_14
    assign \w_level$next \w_level
    assign \w_level$next $24 [5:0]
    sync init
      update \w_level 6'000000
    sync posedge \clk
      update \w_level \w_level$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:384"
  wire width 7 $27
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:384"
  wire width 7 $28
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:384"
  cell $sub $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 6
    parameter \Y_WIDTH 7
    connect \A \produce_r_bin
    connect \B \consume_r_bin
    connect \Y $28
  end
  connect $27 $28
  process $group_15
    assign \r_level 6'000000
    assign \r_level $27 [5:0]
    sync init
  end
  process $group_16
    assign \storage_w_addr 5'00000
    assign \storage_w_addr \produce_w_bin [4:0]
    sync init
  end
  process $group_17
    assign \storage_w_data 16'0000000000000000
    assign \storage_w_data \w_data
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:329"
  wire width 1 $30
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:329"
  cell $and $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \w_rdy
    connect \B \w_en
    connect \Y $30
  end
  process $group_18
    assign \storage_w_en 1'0
    assign \storage_w_en $30
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:394"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:394"
  cell $not $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \w_full
    connect \Y $32
  end
  process $group_19
    assign \w_rdy 1'0
    assign \w_rdy $32
    sync init
  end
  process $group_20
    assign \storage_r_addr 5'00000
    assign \storage_r_addr \consume_r_nxt [4:0]
    sync init
  end
  process $group_21
    assign \r_data 16'0000000000000000
    assign \r_data \storage_r_data
    sync init
  end
  process $group_22
    assign \storage_r_en 1'1
    assign \storage_r_en 1'1
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:400"
  wire width 1 $34
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:400"
  cell $not $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_empty
    connect \Y $34
  end
  process $group_23
    assign \r_rdy 1'0
    assign \r_rdy $34
    sync init
  end
  process $group_24
    assign \rst_dec_i 6'000000
    assign \rst_dec_i \produce_cdc_produce_r_gry
    sync init
  end
  process $group_25
    assign \r_rst$next \r_rst
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
    switch { \rst_cdc_r_rst }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:426"
      case 1'1
        assign \r_rst$next 1'1
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:431"
      case
        assign \r_rst$next 1'0
    end
    sync init
      update \r_rst 1'0
    sync posedge \clk
      update \r_rst \r_rst$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers.consume_buffered_cdc"
module \consume_buffered_cdc
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:510"
  wire width 1 input 1 \r_consume_buffered
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:514"
  wire width 1 output 2 \w_consume_buffered
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next \r_consume_buffered
    sync init
      update \stage0 1'0
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 1'0
    sync posedge \clk
      update \stage1 \stage1$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage2$next
  process $group_2
    assign \stage2$next \stage2
    assign \stage2$next \stage1
    sync init
      update \stage2 1'0
    sync posedge \clk
      update \stage2 \stage2$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage3$next
  process $group_3
    assign \stage3$next \stage3
    assign \stage3$next \stage2
    sync init
      update \stage3 1'0
    sync posedge \clk
      update \stage3 \stage3$next
  end
  process $group_4
    assign \w_consume_buffered 1'0
    assign \w_consume_buffered \stage3
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.spi_registers"
module \spi_registers
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 input 0 \complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 1 \spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 2 \spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 3 \spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 4 \spi_device__cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 5 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:105"
  wire width 1 output 6 \trigger
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 7 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 8 \button_fire_1__i
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:499"
  wire width 1 \interface_spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \interface_spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \interface_spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \interface_spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:483"
  wire width 1 \interface_idle
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:484"
  wire width 1 \interface_stalled
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:474"
  wire width 8 \interface_command
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:480"
  wire width 1 \interface_word_complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:478"
  wire width 16 \interface_word_received
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:479"
  wire width 16 \interface_word_to_send
  cell \interface \interface
    connect \clk \clk
    connect \spi_device__sck \interface_spi_device__sck
    connect \spi_device__sdi \interface_spi_device__sdi
    connect \spi_device__sdo \interface_spi_device__sdo
    connect \spi_device__cs \interface_spi_device__cs
    connect \idle \interface_idle
    connect \stalled \interface_stalled
    connect \command \interface_command
    connect \word_complete \interface_word_complete
    connect \word_received \interface_word_received
    connect \word_to_send \interface_word_to_send
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:78"
  wire width 16 \unbuffered_w_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  wire width 1 \unbuffered_w_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:80"
  wire width 1 \unbuffered_w_en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  wire width 6 \unbuffered_r_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 6 \unbuffered_w_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:83"
  wire width 16 \unbuffered_r_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  wire width 1 \unbuffered_r_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:311"
  wire width 1 \unbuffered_r_rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:85"
  wire width 1 \unbuffered_r_en
  cell \unbuffered \unbuffered
    connect \clk \clk
    connect \w_data \unbuffered_w_data
    connect \w_rdy \unbuffered_w_rdy
    connect \w_en \unbuffered_w_en
    connect \r_level \unbuffered_r_level
    connect \w_level \unbuffered_w_level
    connect \r_data \unbuffered_r_data
    connect \r_rdy \unbuffered_r_rdy
    connect \r_rst \unbuffered_r_rst
    connect \r_en \unbuffered_r_en
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:510"
  wire width 1 \consume_buffered_cdc_r_consume_buffered
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:514"
  wire width 1 \consume_buffered_cdc_w_consume_buffered
  cell \consume_buffered_cdc \consume_buffered_cdc
    connect \clk \clk
    connect \r_consume_buffered \consume_buffered_cdc_r_consume_buffered
    connect \w_consume_buffered \consume_buffered_cdc_w_consume_buffered
  end
  process $group_0
    assign \interface_spi_device__sck 1'0
    assign \interface_spi_device__sck \spi_device__sck
    sync init
  end
  process $group_1
    assign \interface_spi_device__sdi 1'0
    assign \interface_spi_device__sdi \spi_device__sdi
    sync init
  end
  process $group_2
    assign \spi_device__sdo 1'0
    assign \spi_device__sdo \interface_spi_device__sdo
    sync init
  end
  process $group_3
    assign \interface_spi_device__cs 1'0
    assign \interface_spi_device__cs \spi_device__cs
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:654"
  wire width 1 \idle
  process $group_4
    assign \idle 1'0
    assign \idle \interface_idle
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:655"
  wire width 1 \stalled
  process $group_5
    assign \stalled 1'0
    assign \stalled \interface_stalled
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:671"
  wire width 1 \_is_write
  process $group_6
    assign \_is_write 1'0
    assign \_is_write \interface_command [7]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:672"
  wire width 7 \_address
  process $group_7
    assign \_address 7'0000000
    assign \_address \interface_command [6:0]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 1'0
    connect \Y $1
  end
  process $group_8
    assign \register_address_matches_0 1'0
    assign \register_address_matches_0 $1
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 2'10
    connect \Y $3
  end
  process $group_9
    assign \register_address_matches_2 1'0
    assign \register_address_matches_2 $3
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'101
    connect \Y $5
  end
  process $group_10
    assign \register_address_matches_5 1'0
    assign \register_address_matches_5 $5
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $7
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $9
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $7
    connect \B \register_address_matches_5
    connect \Y $9
  end
  process $group_11
    assign \trigger 1'0
    assign \trigger $9
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $11
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'110
    connect \Y $11
  end
  process $group_12
    assign \register_address_matches_6 1'0
    assign \register_address_matches_6 $11
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 16 \register_6_write_value
  process $group_13
    assign \register_6_write_value 16'0000000000000000
    assign \register_6_write_value \interface_word_received
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:772"
  wire width 1 \register_6_write_strobe
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $13
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $13
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $15
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $16
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $13
    connect \B \register_address_matches_6
    connect \Y $15
  end
  process $group_14
    assign \register_6_write_strobe 1'0
    assign \register_6_write_strobe $15
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:85"
  wire width 1 \r_en
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  wire width 1 $17
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  cell $not $18
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \Y $17
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  wire width 1 $19
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  cell $and $20
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $17
    connect \B \interface_word_complete
    connect \Y $19
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  wire width 1 $21
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:822"
  cell $and $22
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $19
    connect \B \register_address_matches_6
    connect \Y $21
  end
  process $group_15
    assign \r_en 1'0
    assign \r_en $21
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:83"
  wire width 16 \r_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:83"
  wire width 16 \r_data$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $23
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  wire width 1 \r_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  wire width 1 \r_rdy$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $not $24
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_rdy
    connect \Y $23
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $25
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $or $26
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_en
    connect \B $23
    connect \Y $25
  end
  process $group_16
    assign \r_data$next \r_data
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \register_6_write_strobe }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \r_data$next \register_6_write_value
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
    switch { $25 }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
      case 1'1
        assign \r_data$next \unbuffered_r_data
    end
    sync init
      update \r_data 16'0000000000000000
    sync posedge \clk
      update \r_data \r_data$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $27
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $28
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'111
    connect \Y $27
  end
  process $group_17
    assign \register_address_matches_7 1'0
    assign \register_address_matches_7 $27
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 1 \register_7_write_value
  process $group_18
    assign \register_7_write_value 1'0
    assign \register_7_write_value \interface_word_received [0]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:772"
  wire width 1 \register_7_write_strobe
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $29
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $30
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $29
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $31
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $32
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $29
    connect \B \register_address_matches_7
    connect \Y $31
  end
  process $group_19
    assign \register_7_write_strobe 1'0
    assign \register_7_write_strobe $31
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $33
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $not $34
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_rdy
    connect \Y $33
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $35
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $or $36
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_en
    connect \B $33
    connect \Y $35
  end
  process $group_20
    assign \r_rdy$next \r_rdy
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \register_7_write_strobe }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \r_rdy$next \register_7_write_value
    end
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
    switch { $35 }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
      case 1'1
        assign \r_rdy$next \unbuffered_r_rdy
    end
    sync init
      update \r_rdy 1'0
    sync posedge \clk
      update \r_rdy \r_rdy$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $37
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $38
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1000
    connect \Y $37
  end
  process $group_21
    assign \register_address_matches_8 1'0
    assign \register_address_matches_8 $37
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 6 \register_8_write_value
  process $group_22
    assign \register_8_write_value 6'000000
    assign \register_8_write_value \interface_word_received [5:0]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:772"
  wire width 1 \register_8_write_strobe
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $39
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $40
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $39
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $41
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $42
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $39
    connect \B \register_address_matches_8
    connect \Y $41
  end
  process $group_23
    assign \register_8_write_strobe 1'0
    assign \register_8_write_strobe $41
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  wire width 6 \r_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  wire width 6 \r_level$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:512"
  wire width 7 $43
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:512"
  wire width 7 $44
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:512"
  cell $add $45
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 7
    connect \A \unbuffered_r_level
    connect \B \consume_buffered_cdc_r_consume_buffered
    connect \Y $44
  end
  connect $43 $44
  process $group_24
    assign \r_level$next \r_level
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \register_8_write_strobe }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \r_level$next \register_8_write_value
    end
    switch { }
      case
        assign \r_level$next $43 [5:0]
    end
    sync init
      update \r_level 6'000000
    sync posedge \clk
      update \r_level \r_level$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_9
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $46
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $47
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1001
    connect \Y $46
  end
  process $group_25
    assign \register_address_matches_9 1'0
    assign \register_address_matches_9 $46
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 16 \register_9_write_value
  process $group_26
    assign \register_9_write_value 16'0000000000000000
    assign \register_9_write_value \interface_word_received
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:80"
  wire width 1 \w_en
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $48
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $49
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $48
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $50
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $51
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $48
    connect \B \register_address_matches_9
    connect \Y $50
  end
  process $group_27
    assign \w_en 1'0
    assign \w_en $50
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:78"
  wire width 16 \w_data
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:78"
  wire width 16 \w_data$next
  process $group_28
    assign \w_data$next \w_data
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \w_en }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \w_data$next \register_9_write_value
    end
    sync init
      update \w_data 16'0000000000000000
    sync posedge \clk
      update \w_data \w_data$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_a
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $52
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $53
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1010
    connect \Y $52
  end
  process $group_29
    assign \register_address_matches_a 1'0
    assign \register_address_matches_a $52
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 1 \register_a_write_value
  process $group_30
    assign \register_a_write_value 1'0
    assign \register_a_write_value \interface_word_received [0]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:772"
  wire width 1 \register_a_write_strobe
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $54
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $55
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $54
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $56
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $57
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $54
    connect \B \register_address_matches_a
    connect \Y $56
  end
  process $group_31
    assign \register_a_write_strobe 1'0
    assign \register_a_write_strobe $56
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  wire width 1 \w_rdy
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  wire width 1 \w_rdy$next
  process $group_32
    assign \w_rdy$next 1'0
    assign \w_rdy$next \w_rdy
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \register_a_write_strobe }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \w_rdy$next \register_a_write_value
    end
    switch { }
      case
        assign \w_rdy$next \unbuffered_w_rdy
    end
    sync init
      update \w_rdy 1'0
    sync posedge \clk
      update \w_rdy \w_rdy$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:802"
  wire width 1 \register_address_matches_b
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  wire width 1 $58
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:803"
  cell $eq $59
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1011
    connect \Y $58
  end
  process $group_33
    assign \register_address_matches_b 1'0
    assign \register_address_matches_b $58
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:775"
  wire width 6 \register_b_write_value
  process $group_34
    assign \register_b_write_value 6'000000
    assign \register_b_write_value \interface_word_received [5:0]
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:772"
  wire width 1 \register_b_write_strobe
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $60
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $61
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_is_write
    connect \B \interface_word_complete
    connect \Y $60
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  wire width 1 $62
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:816"
  cell $and $63
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $60
    connect \B \register_address_matches_b
    connect \Y $62
  end
  process $group_35
    assign \register_b_write_strobe 1'0
    assign \register_b_write_strobe $62
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 6 \w_level
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 6 \w_level$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:516"
  wire width 7 $64
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:516"
  wire width 7 $65
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:516"
  cell $add $66
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 7
    connect \A \unbuffered_w_level
    connect \B \consume_buffered_cdc_w_consume_buffered
    connect \Y $65
  end
  connect $64 $65
  process $group_36
    assign \w_level$next 6'000000
    assign \w_level$next \w_level
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
    switch { \register_b_write_strobe }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:779"
      case 1'1
        assign \w_level$next \register_b_write_value
    end
    switch { }
      case
        assign \w_level$next $64 [5:0]
    end
    sync init
      update \w_level 6'000000
    sync posedge \clk
      update \w_level \w_level$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $67
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $68
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 1'0
    connect \Y $67
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $69
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $70
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 2
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 2'10
    connect \Y $69
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $71
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $72
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'101
    connect \Y $71
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $73
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $74
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'110
    connect \Y $73
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $75
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $76
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 3
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 3'111
    connect \Y $75
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $77
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $78
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1000
    connect \Y $77
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $79
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $80
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1001
    connect \Y $79
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $81
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $82
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1010
    connect \Y $81
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  wire width 1 $83
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
  cell $eq $84
    parameter \A_SIGNED 0
    parameter \A_WIDTH 7
    parameter \B_SIGNED 0
    parameter \B_WIDTH 4
    parameter \Y_WIDTH 1
    connect \A \_address
    connect \B 4'1011
    connect \Y $83
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:155"
  wire width 16 $85
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:155"
  cell $pos $86
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \Y_WIDTH 16
    connect \A { { \button_fire_1__i } { \button_fire_0__i } }
    connect \Y $85
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 16 $87
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  cell $pos $88
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 16
    connect \A \complete
    connect \Y $87
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  wire width 16 $89
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:84"
  cell $pos $90
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 16
    connect \A \r_rdy
    connect \Y $89
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  wire width 16 $91
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:86"
  cell $pos $92
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \Y_WIDTH 16
    connect \A \r_level
    connect \Y $91
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  wire width 16 $93
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:79"
  cell $pos $94
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 16
    connect \A \w_rdy
    connect \Y $93
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  wire width 16 $95
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:81"
  cell $pos $96
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \Y_WIDTH 16
    connect \A \w_level
    connect \Y $95
  end
  process $group_37
    assign \interface_word_to_send 16'0000000000000000
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
    switch { $83 $81 $79 $77 $75 $73 $71 $69 $67 }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'--------1
        assign \interface_word_to_send 16'1111111111111111
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'-------1-
        assign \interface_word_to_send $85
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'------1--
        assign \interface_word_to_send $87
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'-----1---
        assign \interface_word_to_send \r_data
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'----1----
        assign \interface_word_to_send $89
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'---1-----
        assign \interface_word_to_send $91
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'--1------
        assign \interface_word_to_send \w_data
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'-1-------
        assign \interface_word_to_send $93
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:876"
      case 9'1--------
        assign \interface_word_to_send $95
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:889"
      case
        assign \interface_word_to_send 16'0000000000000000
    end
    sync init
  end
  process $group_38
    assign \unbuffered_w_data 16'0000000000000000
    assign \unbuffered_w_data \w_data
    sync init
  end
  process $group_39
    assign \unbuffered_w_en 1'0
    assign \unbuffered_w_en \w_en
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:511"
  wire width 2 $97
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:511"
  wire width 2 $98
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:511"
  cell $sub $99
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 2
    connect \A \r_rdy
    connect \B \r_en
    connect \Y $98
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:511"
  wire width 2 $100
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:511"
  cell $and $101
    parameter \A_SIGNED 0
    parameter \A_WIDTH 2
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 2
    connect \A $98
    connect \B \r_rdy
    connect \Y $100
  end
  connect $97 $100
  process $group_40
    assign \consume_buffered_cdc_r_consume_buffered 1'0
    assign \consume_buffered_cdc_r_consume_buffered $97 [0]
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:488"
  wire width 1 \r_rst
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:488"
  wire width 1 \r_rst$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $102
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $not $103
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_rdy
    connect \Y $102
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $104
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $or $105
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_en
    connect \B $102
    connect \Y $104
  end
  process $group_41
    assign \r_rst$next \r_rst
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
    switch { $104 }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
      case 1'1
        assign \r_rst$next \unbuffered_r_rst
    end
    sync init
      update \r_rst 1'0
    sync posedge \clk
      update \r_rst \r_rst$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $106
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $not $107
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_rdy
    connect \Y $106
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  wire width 1 $108
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
  cell $or $109
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \r_en
    connect \B $106
    connect \Y $108
  end
  process $group_42
    assign \unbuffered_r_en 1'0
    attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
    switch { $108 }
      attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/fifo.py:518"
      case 1'1
        assign \unbuffered_r_en 1'1
    end
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.mux"
module \mux
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 0 \spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 1 \spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 2 \spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 3 \spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 4 \spi_device__sck$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 5 \spi_device__sdi$2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 6 \spi_device__sdo$3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 7 \spi_device__cs$4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 8 \spi_device__sck$5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 9 \spi_device__sdi$6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 10 \spi_device__sdo$7
  process $group_0
    assign \spi_device__sdo$7 1'0
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:979"
    switch { \spi_device__cs$4 \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:979"
      case 2'-1
        assign \spi_device__sdo$7 \spi_device__sdo
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:979"
      case 2'1-
        assign \spi_device__sdo$7 \spi_device__sdo$3
    end
    sync init
  end
  process $group_1
    assign \spi_device__sck 1'0
    assign \spi_device__sck \spi_device__sck$5
    sync init
  end
  process $group_2
    assign \spi_device__sdi 1'0
    assign \spi_device__sdi \spi_device__sdi$6
    sync init
  end
  process $group_3
    assign \spi_device__sck$1 1'0
    assign \spi_device__sck$1 \spi_device__sck$5
    sync init
  end
  process $group_4
    assign \spi_device__sdi$2 1'0
    assign \spi_device__sdi$2 \spi_device__sdi$6
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$0.ila.pretrigger_samples"
module \pretrigger_samples
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 0 \spi_monitor__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 1 \spi_monitor__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 2 \spi_monitor__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 3 \spi_monitor__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:8"
  wire width 20 input 4 \counter
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 5 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:125"
  wire width 32 output 6 \synced_inputs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 32 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 32 \stage0$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:10"
  wire width 8 \const_0xFF
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \const_0xFF { \spi_monitor__cs \spi_monitor__sdo \spi_monitor__sdi \spi_monitor__sck } \counter }
    sync init
      update \stage0 32'00000000000000000000000000000000
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 32 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 32 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 32'00000000000000000000000000000000
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \synced_inputs 32'00000000000000000000000000000000
    assign \synced_inputs \stage1
    sync init
  end
  connect \const_0xFF 8'11111111
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$0.ila"
module \ila
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 0 \spi_monitor__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 1 \spi_monitor__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 2 \spi_monitor__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 3 \spi_monitor__cs
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 output 4 \complete
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 \complete$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:8"
  wire width 20 input 5 \counter
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 6 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:105"
  wire width 1 input 7 \trigger
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:111"
  wire width 32 output 8 \captured_sample
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:110"
  wire width 5 input 9 \captured_sample_number
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:125"
  wire width 32 \pretrigger_samples_synced_inputs
  cell \pretrigger_samples \pretrigger_samples
    connect \spi_monitor__sdi \spi_monitor__sdi
    connect \spi_monitor__sdo \spi_monitor__sdo
    connect \spi_monitor__sck \spi_monitor__sck
    connect \spi_monitor__cs \spi_monitor__cs
    connect \counter \counter
    connect \clk \clk
    connect \synced_inputs \pretrigger_samples_synced_inputs
  end
  memory width 32 size 32 \ila_buffer
  cell $meminit $1
    parameter \MEMID "\\ila_buffer"
    parameter \ABITS 6
    parameter \WIDTH 32
    parameter \WORDS 32
    parameter \PRIORITY 0
    connect \ADDR 6'000000
    connect \DATA 1024'0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:119"
  wire width 1 \ila_buffer_w_en
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:119"
  wire width 5 \ila_buffer_w_addr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:119"
  wire width 32 \ila_buffer_w_data
  cell $memwr \U$$0
    parameter \MEMID "\\ila_buffer"
    parameter \ABITS 5
    parameter \WIDTH 32
    parameter \CLK_ENABLE 1
    parameter \CLK_POLARITY 1
    parameter \PRIORITY 0
    connect \CLK \clk
    connect \EN { { \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en \ila_buffer_w_en } }
    connect \ADDR \ila_buffer_w_addr
    connect \DATA \ila_buffer_w_data
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:120"
  wire width 5 \ila_buffer_r_addr
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:120"
  wire width 32 \ila_buffer_r_data
  cell $memrd \U$$1
    parameter \MEMID "\\ila_buffer"
    parameter \ABITS 5
    parameter \WIDTH 32
    parameter \CLK_ENABLE 1
    parameter \CLK_POLARITY 1
    parameter \TRANSPARENT 1
    connect \CLK \clk
    connect \EN 1'1
    connect \ADDR \ila_buffer_r_addr
    connect \DATA \ila_buffer_r_data
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:126"
  wire width 32 \delayed_inputs
  process $group_0
    assign \delayed_inputs 32'00000000000000000000000000000000
    assign \delayed_inputs \pretrigger_samples_synced_inputs
    sync init
  end
  process $group_1
    assign \ila_buffer_w_data 32'00000000000000000000000000000000
    assign \ila_buffer_w_data \delayed_inputs
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:189"
  wire width 5 \write_position
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:189"
  wire width 5 \write_position$next
  process $group_2
    assign \ila_buffer_w_addr 5'00000
    assign \ila_buffer_w_addr \write_position
    sync init
  end
  process $group_3
    assign \captured_sample 32'00000000000000000000000000000000
    assign \captured_sample \ila_buffer_r_data
    sync init
  end
  process $group_4
    assign \ila_buffer_r_addr 5'00000
    assign \ila_buffer_r_addr \captured_sample_number
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:202"
  wire width 1 \sampling
  process $group_5
    assign \ila_buffer_w_en 1'0
    assign \ila_buffer_w_en \sampling
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:107"
  wire width 1 \sampling$2
  process $group_6
    assign \sampling$2 1'0
    assign \sampling$2 \sampling
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:106"
  wire width 1 \capturing
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
  wire width 1 \ila_fsm_state
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
  wire width 1 \ila_fsm_state$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:209"
  wire width 1 $3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:209"
  cell $eq $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \ila_fsm_state
    connect \B 1'0
    connect \Y $3
  end
  process $group_7
    assign \capturing 1'0
    assign \capturing $3
    sync init
  end
  process $group_8
    assign \sampling 1'0
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
    switch \ila_fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:212"
      attribute \amaranth.decoding "IDLE/1"
      case 1'1
        assign \sampling 1'0
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:224"
      attribute \amaranth.decoding "CAPTURE/0"
      case 1'0
        assign \sampling 1'1
    end
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
  wire width 1 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
  cell $eq $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \write_position
    connect \B 5'11111
    connect \Y $5
  end
  process $group_9
    assign \ila_fsm_state$next \ila_fsm_state
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
    switch \ila_fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:212"
      attribute \amaranth.decoding "IDLE/1"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
        switch { \trigger }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
          case 1'1
            assign \ila_fsm_state$next 1'0
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:224"
      attribute \amaranth.decoding "CAPTURE/0"
      case 1'0
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
        switch { \sampling }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
            switch { $5 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
              case 1'1
                assign \ila_fsm_state$next 1'1
            end
        end
    end
    sync init
      update \ila_fsm_state 1'1
    sync posedge \clk
      update \ila_fsm_state \ila_fsm_state$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:229"
  wire width 6 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:229"
  wire width 6 $8
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:229"
  cell $add $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \write_position
    connect \B 1'1
    connect \Y $8
  end
  connect $7 $8
  process $group_10
    assign \write_position$next \write_position
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
    switch \ila_fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:212"
      attribute \amaranth.decoding "IDLE/1"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
        switch { \trigger }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
          case 1'1
            assign \write_position$next 5'00000
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:224"
      attribute \amaranth.decoding "CAPTURE/0"
      case 1'0
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
        switch { \sampling }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
          case 1'1
            assign \write_position$next $7 [4:0]
        end
    end
    sync init
      update \write_position 5'00000
    sync posedge \clk
      update \write_position \write_position$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
  wire width 1 $10
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
  cell $eq $11
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 5
    parameter \Y_WIDTH 1
    connect \A \write_position
    connect \B 5'11111
    connect \Y $10
  end
  process $group_11
    assign \complete$next \complete
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:208"
    switch \ila_fsm_state
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:212"
      attribute \amaranth.decoding "IDLE/1"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
        switch { \trigger }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:215"
          case 1'1
            assign \complete$next 1'0
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:224"
      attribute \amaranth.decoding "CAPTURE/0"
      case 1'0
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
        switch { \sampling }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:228"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
            switch { $10 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:232"
              case 1'1
                assign \complete$next 1'1
            end
        end
    end
    sync init
      update \complete 1'0
    sync posedge \clk
      update \complete \complete$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$0.spi"
module \spi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 0 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 1 \spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 2 \spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 3 \spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_device__sdo$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 4 \spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:209"
  wire width 32 input 5 \word_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:210"
  wire width 1 output 6 \word_accepted
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:210"
  wire width 1 \word_accepted$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:239"
  wire width 1 \serial_clock
  process $group_0
    assign \serial_clock 1'0
    assign \serial_clock \spi_device__sck
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:208"
  wire width 32 \word_in
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:208"
  wire width 32 \word_in$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:259"
  wire width 32 \current_rx
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:259"
  wire width 32 \current_rx$next
  process $group_1
    assign \word_in$next \word_in
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:266"
    switch { \word_accepted }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:266"
      case 1'1
        assign \word_in$next \current_rx
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:271"
      case
    end
    sync init
      update \word_in 32'00000000000000000000000000000000
    sync posedge \clk
      update \word_in \word_in$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:211"
  wire width 1 \word_complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:211"
  wire width 1 \word_complete$next
  process $group_2
    assign \word_complete$next \word_complete
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:266"
    switch { \word_accepted }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:266"
      case 1'1
        assign \word_complete$next 1'1
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:271"
      case
        assign \word_complete$next 1'0
    end
    sync init
      update \word_complete 1'0
    sync posedge \clk
      update \word_complete \word_complete$next
  end
  attribute \amaranth.sample_reg 1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:239"
  wire width 1 $sample$s$serial_clock$sync$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:239"
  wire width 1 $sample$s$serial_clock$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \serial_clock
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \B $1
    connect \Y $3
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:257"
  wire width 5 \bit_count
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:257"
  wire width 5 \bit_count$next
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  wire width 6 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  cell $add $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \bit_count
    connect \B 1'1
    connect \Y $5
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  wire width 1 $7
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  cell $eq $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 6
    parameter \Y_WIDTH 1
    connect \A $5
    connect \B 6'100000
    connect \Y $7
  end
  process $group_3
    assign \word_accepted$next \word_accepted
    assign \word_accepted$next 1'0
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
        switch { $3 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
            switch { $7 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
              case 1'1
                assign \word_accepted$next 1'1
            end
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:311"
      case
    end
    sync init
      update \word_accepted 1'0
    sync posedge \clk
      update \word_accepted \word_accepted$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $9
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \serial_clock
    connect \Y $9
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $11
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \B $9
    connect \Y $11
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:287"
  wire width 6 $13
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:287"
  wire width 6 $14
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:287"
  cell $add $15
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \bit_count
    connect \B 1'1
    connect \Y $14
  end
  connect $13 $14
  process $group_4
    assign \bit_count$next \bit_count
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
        switch { $11 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
          case 1'1
            assign \bit_count$next $13 [4:0]
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:311"
      case
        assign \bit_count$next 5'00000
    end
    sync init
      update \bit_count 5'00000
    sync posedge \clk
      update \bit_count \bit_count$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:262"
  wire width 1 \is_first_bit
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:262"
  wire width 1 \is_first_bit$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $16
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $17
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \serial_clock
    connect \Y $16
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $18
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \B $16
    connect \Y $18
  end
  process $group_5
    assign \is_first_bit$next \is_first_bit
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
        switch { $18 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
          case 1'1
            assign \is_first_bit$next 1'0
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:311"
      case
        assign \is_first_bit$next 1'1
    end
    sync init
      update \is_first_bit 1'0
    sync posedge \clk
      update \is_first_bit \is_first_bit$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $20
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $21
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \serial_clock
    connect \Y $20
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $22
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $23
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \B $20
    connect \Y $22
  end
  process $group_6
    assign \current_rx$next \current_rx
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
        switch { $22 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
          case 1'1
            assign \current_rx$next { \current_rx [30:0] \spi_device__sdi }
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:311"
      case
    end
    sync init
      update \current_rx 32'00000000000000000000000000000000
    sync posedge \clk
      update \current_rx \current_rx$next
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:258"
  wire width 32 \current_tx
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:258"
  wire width 32 \current_tx$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $24
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $not $25
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \serial_clock
    connect \Y $24
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  wire width 1 $26
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1373"
  cell $and $27
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \B $24
    connect \Y $26
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  wire width 6 $28
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  cell $add $29
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \bit_count
    connect \B 1'1
    connect \Y $28
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  wire width 1 $30
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
  cell $eq $31
    parameter \A_SIGNED 0
    parameter \A_WIDTH 6
    parameter \B_SIGNED 0
    parameter \B_WIDTH 6
    parameter \Y_WIDTH 1
    connect \A $28
    connect \B 6'100000
    connect \Y $30
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $32
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $33
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$serial_clock$sync$1
    connect \Y $32
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $34
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $35
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $32
    connect \B \serial_clock
    connect \Y $34
  end
  process $group_7
    assign \current_tx$next \current_tx
    assign \spi_device__sdo$next \spi_device__sdo
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:282"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
        switch { $26 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:285"
          case 1'1
            attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
            switch { $30 }
              attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:297"
              case 1'1
                assign \current_tx$next \word_out
            end
        end
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:305"
        switch { $34 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:305"
          case 1'1
            assign { \spi_device__sdo$next \current_tx$next [31:1] } \current_tx
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:311"
      case
        assign \current_tx$next \word_out
    end
    sync init
      update \current_tx 32'00000000000000000000000000000000
      update \spi_device__sdo 1'0
    sync posedge \clk
      update \current_tx \current_tx$next
      update \spi_device__sdo \spi_device__sdo$next
  end
  process $group_9
    assign $sample$s$serial_clock$sync$1$next $sample$s$serial_clock$sync$1
    assign $sample$s$serial_clock$sync$1$next \serial_clock
    sync init
      update $sample$s$serial_clock$sync$1 1'0
    sync posedge \clk
      update $sample$s$serial_clock$sync$1 $sample$s$serial_clock$sync$1$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$0"
module \U$$0
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 0 \spi_monitor__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 1 \spi_monitor__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 2 \spi_monitor__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 input 3 \spi_monitor__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 4 \spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 5 \spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 6 \spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:548"
  wire width 1 input 7 \spi_device__cs
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 output 8 \complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:8"
  wire width 20 input 9 \counter
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 10 \clk
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:105"
  wire width 1 input 11 \trigger
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:111"
  wire width 32 \ila_captured_sample
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:110"
  wire width 5 \ila_captured_sample_number
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:110"
  wire width 5 \ila_captured_sample_number$next
  cell \ila \ila
    connect \spi_monitor__sdi \spi_monitor__sdi
    connect \spi_monitor__sdo \spi_monitor__sdo
    connect \spi_monitor__sck \spi_monitor__sck
    connect \spi_monitor__cs \spi_monitor__cs
    connect \complete \complete
    connect \counter \counter
    connect \clk \clk
    connect \trigger \trigger
    connect \captured_sample \ila_captured_sample
    connect \captured_sample_number \ila_captured_sample_number
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:209"
  wire width 32 \spi_word_out
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:210"
  wire width 1 \spi_word_accepted
  cell \spi \spi
    connect \clk \clk
    connect \spi_device__sck \spi_spi_device__sck
    connect \spi_device__sdi \spi_spi_device__sdi
    connect \spi_device__sdo \spi_spi_device__sdo
    connect \spi_device__cs \spi_spi_device__cs
    connect \word_out \spi_word_out
    connect \word_accepted \spi_word_accepted
  end
  process $group_0
    assign \spi_spi_device__sck 1'0
    assign \spi_spi_device__sck \spi_device__sck
    sync init
  end
  process $group_1
    assign \spi_spi_device__sdi 1'0
    assign \spi_spi_device__sdi \spi_device__sdi
    sync init
  end
  process $group_2
    assign \spi_device__sdo 1'0
    assign \spi_device__sdo \spi_spi_device__sdo
    sync init
  end
  process $group_3
    assign \spi_spi_device__cs 1'0
    assign \spi_spi_device__cs \spi_device__cs
    sync init
  end
  process $group_4
    assign \spi_word_out 32'00000000000000000000000000000000
    assign \spi_word_out \ila_captured_sample
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:565"
  wire width 5 \current_sample_number
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:565"
  wire width 5 \current_sample_number$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $1
  attribute \amaranth.sample_reg 1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:548"
  wire width 1 $sample$s$spi_device__cs$sync$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:548"
  wire width 1 $sample$s$spi_device__cs$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$spi_device__cs$sync$1
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $1
    connect \B \spi_device__cs
    connect \Y $3
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:576"
  wire width 6 $5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:576"
  wire width 6 $6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:576"
  cell $add $7
    parameter \A_SIGNED 0
    parameter \A_WIDTH 5
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 6
    connect \A \current_sample_number
    connect \B 1'1
    connect \Y $6
  end
  connect $5 $6
  process $group_5
    assign \current_sample_number$next \current_sample_number
    attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:569"
    switch { \spi_device__cs }
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:569"
      case 1'1
        attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:570"
        switch { \spi_word_accepted $3 }
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:570"
          case 2'-1
            assign \current_sample_number$next 5'00001
          attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:575"
          case 2'1-
            assign \current_sample_number$next $5 [4:0]
        end
      attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:580"
      case
        assign \current_sample_number$next 5'00000
    end
    sync init
      update \current_sample_number 5'00000
    sync posedge \clk
      update \current_sample_number \current_sample_number$next
  end
  process $group_6
    assign \ila_captured_sample_number$next \ila_captured_sample_number
    assign \ila_captured_sample_number$next \current_sample_number
    sync init
      update \ila_captured_sample_number 5'00000
    sync posedge \clk
      update \ila_captured_sample_number \ila_captured_sample_number$next
  end
  process $group_7
    assign $sample$s$spi_device__cs$sync$1$next $sample$s$spi_device__cs$sync$1
    assign $sample$s$spi_device__cs$sync$1$next \spi_device__cs
    sync init
      update $sample$s$spi_device__cs$sync$1 1'0
    sync posedge \clk
      update $sample$s$spi_device__cs$sync$1 $sample$s$spi_device__cs$sync$1$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$1"
module \U$$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 0 \spi_device__sdi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 1 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 2 \esp32_spi_0__gpio4_copi__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \esp32_spi_0__gpio4_copi__i }
    sync init
      update \stage0 1'0
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 1'0
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \spi_device__sdi 1'0
    assign \spi_device__sdi \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$2"
module \U$$2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 input 0 \spi_device__sdo
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 1 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 2 \esp32_spi_0__gpio12_cipo__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next \spi_device__sdo
    sync init
      update \stage0 1'0
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 1'0
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \esp32_spi_0__gpio12_cipo__o 1'0
    assign { \esp32_spi_0__gpio12_cipo__o } \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$3"
module \U$$3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 0 \spi_device__sck
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 1 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 2 \esp32_spi_0__gpio16_sclk__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \esp32_spi_0__gpio16_sclk__i }
    sync init
      update \stage0 1'0
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 1'0
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \spi_device__sck 1'0
    assign \spi_device__sck \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut.U$$4"
module \U$$4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 output 0 \spi_device__cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 1 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 2 \esp32_spi_0__gpio5_cs__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage0$next
  process $group_0
    assign \stage0$next \stage0
    assign \stage0$next { \esp32_spi_0__gpio5_cs__i }
    sync init
      update \stage0 1'0
    sync posedge \clk
      update \stage0 \stage0$next
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/lib/cdc.py:89"
  wire width 1 \stage1$next
  process $group_1
    assign \stage1$next \stage1
    assign \stage1$next \stage0
    sync init
      update \stage1 1'0
    sync posedge \clk
      update \stage1 \stage1$next
  end
  process $group_2
    assign \spi_device__cs 1'0
    assign \spi_device__cs \stage1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.dut"
module \dut
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_0__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 1 \led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_1__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 2 \led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_2__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 3 \led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_3__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 4 \led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_4__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 5 \led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_5__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 6 \led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_6__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 7 \led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \led_7__o$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 input 8 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 9 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 10 \button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 11 \esp32_spi_0__gpio4_copi__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 12 \esp32_spi_0__gpio12_cipo__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 13 \esp32_spi_0__gpio16_sclk__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 14 \esp32_spi_0__gpio5_cs__i
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 \spi_registers_complete
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_registers_spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_registers_spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_registers_spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_registers_spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:105"
  wire width 1 \spi_registers_trigger
  cell \spi_registers \spi_registers
    connect \complete \spi_registers_complete
    connect \spi_device__sck \spi_registers_spi_device__sck
    connect \spi_device__sdi \spi_registers_spi_device__sdi
    connect \spi_device__sdo \spi_registers_spi_device__sdo
    connect \spi_device__cs \spi_registers_spi_device__cs
    connect \clk \clk
    connect \trigger \spi_registers_trigger
    connect \button_fire_0__i \button_fire_0__i
    connect \button_fire_1__i \button_fire_1__i
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sck$1
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdi$2
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdo$3
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__cs$4
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sck$5
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdi$6
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \mux_spi_device__sdo$7
  cell \mux \mux
    connect \spi_device__sck \mux_spi_device__sck
    connect \spi_device__sdi \mux_spi_device__sdi
    connect \spi_device__sdo \mux_spi_device__sdo
    connect \spi_device__cs \mux_spi_device__cs
    connect \spi_device__sck$1 \mux_spi_device__sck$1
    connect \spi_device__sdi$2 \mux_spi_device__sdi$2
    connect \spi_device__sdo$3 \mux_spi_device__sdo$3
    connect \spi_device__cs$4 \mux_spi_device__cs$4
    connect \spi_device__sck$5 \mux_spi_device__sck$5
    connect \spi_device__sdi$6 \mux_spi_device__sdi$6
    connect \spi_device__sdo$7 \mux_spi_device__sdo$7
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 \U$$0_spi_monitor__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 \U$$0_spi_monitor__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 \U$$0_spi_monitor__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:12"
  wire width 1 \U$$0_spi_monitor__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$0_spi_device__sck
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$0_spi_device__sdi
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$0_spi_device__sdo
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/debug/ila.py:548"
  wire width 1 \U$$0_spi_device__cs
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:8"
  wire width 20 \U$$0_counter
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/gateware/amaram/tests/ulx3s_gui_test/common/test_common/fpga_gui_interface.py:8"
  wire width 20 \U$$0_counter$next
  cell \U$$0 \U$$0
    connect \spi_monitor__sdi \U$$0_spi_monitor__sdi
    connect \spi_monitor__sdo \U$$0_spi_monitor__sdo
    connect \spi_monitor__sck \U$$0_spi_monitor__sck
    connect \spi_monitor__cs \U$$0_spi_monitor__cs
    connect \spi_device__sck \U$$0_spi_device__sck
    connect \spi_device__sdi \U$$0_spi_device__sdi
    connect \spi_device__sdo \U$$0_spi_device__sdo
    connect \spi_device__cs \U$$0_spi_device__cs
    connect \complete \spi_registers_complete
    connect \counter \U$$0_counter
    connect \clk \clk
    connect \trigger \spi_registers_trigger
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$1_spi_device__sdi
  cell \U$$1 \U$$1
    connect \spi_device__sdi \U$$1_spi_device__sdi
    connect \clk \clk
    connect \esp32_spi_0__gpio4_copi__i \esp32_spi_0__gpio4_copi__i
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$2_spi_device__sdo
  cell \U$$2 \U$$2
    connect \spi_device__sdo \U$$2_spi_device__sdo
    connect \clk \clk
    connect \esp32_spi_0__gpio12_cipo__o \esp32_spi_0__gpio12_cipo__o
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$3_spi_device__sck
  cell \U$$3 \U$$3
    connect \spi_device__sck \U$$3_spi_device__sck
    connect \clk \clk
    connect \esp32_spi_0__gpio16_sclk__i \esp32_spi_0__gpio16_sclk__i
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \U$$4_spi_device__cs
  cell \U$$4 \U$$4
    connect \spi_device__cs \U$$4_spi_device__cs
    connect \clk \clk
    connect \esp32_spi_0__gpio5_cs__i \esp32_spi_0__gpio5_cs__i
  end
  process $group_0
    assign \U$$0_spi_monitor__sdi 1'0
    assign \U$$0_spi_monitor__sdi \U$$1_spi_device__sdi
    sync init
  end
  process $group_1
    assign \U$$0_spi_monitor__sdo 1'0
    assign \U$$0_spi_monitor__sdo \U$$2_spi_device__sdo
    sync init
  end
  process $group_2
    assign \U$$0_spi_monitor__sck 1'0
    assign \U$$0_spi_monitor__sck \U$$3_spi_device__sck
    sync init
  end
  process $group_3
    assign \U$$0_spi_monitor__cs 1'0
    assign \U$$0_spi_monitor__cs \U$$4_spi_device__cs
    sync init
  end
  process $group_4
    assign \U$$0_spi_device__sck 1'0
    assign \U$$0_spi_device__sck \mux_spi_device__sck
    sync init
  end
  process $group_5
    assign \U$$0_spi_device__sdi 1'0
    assign \U$$0_spi_device__sdi \mux_spi_device__sdi
    sync init
  end
  process $group_6
    assign \mux_spi_device__sdo 1'0
    assign \mux_spi_device__sdo \U$$0_spi_device__sdo
    sync init
  end
  process $group_7
    assign \U$$0_spi_device__cs 1'0
    assign \U$$0_spi_device__cs \mux_spi_device__cs
    sync init
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:111"
  wire width 1 $8
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:111"
  cell $not $9
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \U$$4_spi_device__cs
    connect \Y $8
  end
  process $group_8
    assign \mux_spi_device__cs 1'0
    assign \mux_spi_device__cs $8
    sync init
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:122"
  wire width 21 $10
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:122"
  wire width 21 $11
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:122"
  cell $add $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 20
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 21
    connect \A \U$$0_counter
    connect \B 1'1
    connect \Y $11
  end
  connect $10 $11
  process $group_9
    assign \U$$0_counter$next \U$$0_counter
    attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:117"
    switch { \spi_registers_complete }
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:117"
      case 1'1
        assign \U$$0_counter$next 20'00000000000000000000
    end
    switch { }
      case
        assign \U$$0_counter$next $10 [19:0]
    end
    sync init
      update \U$$0_counter 20'00000000000000000000
    sync posedge \clk
      update \U$$0_counter \U$$0_counter$next
  end
  process $group_10
    assign \spi_registers_spi_device__sck 1'0
    assign \spi_registers_spi_device__sck \mux_spi_device__sck$1
    sync init
  end
  process $group_11
    assign \spi_registers_spi_device__sdi 1'0
    assign \spi_registers_spi_device__sdi \mux_spi_device__sdi$2
    sync init
  end
  process $group_12
    assign \mux_spi_device__sdo$3 1'0
    assign \mux_spi_device__sdo$3 \spi_registers_spi_device__sdo
    sync init
  end
  process $group_13
    assign \spi_registers_spi_device__cs 1'0
    assign \spi_registers_spi_device__cs \mux_spi_device__cs$4
    sync init
  end
  process $group_14
    assign \mux_spi_device__cs$4 1'0
    assign \mux_spi_device__cs$4 \U$$4_spi_device__cs
    sync init
  end
  process $group_15
    assign \mux_spi_device__sck$5 1'0
    assign \mux_spi_device__sck$5 \U$$3_spi_device__sck
    sync init
  end
  process $group_16
    assign \mux_spi_device__sdi$6 1'0
    assign \mux_spi_device__sdi$6 \U$$1_spi_device__sdi
    sync init
  end
  process $group_17
    assign \U$$2_spi_device__sdo 1'0
    assign \U$$2_spi_device__sdo \mux_spi_device__sdo$7
    sync init
  end
  attribute \src "/home/ubuntu/from_host/x/Documents/git_repos/forks/gateware/examples/amlib/amlib/io/spi.py:23"
  wire width 1 \spi_device__cs
  process $group_18
    assign \spi_device__cs 1'0
    assign \spi_device__cs \U$$4_spi_device__cs
    sync init
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $13
  attribute \amaranth.sample_reg 1
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 $sample$s$complete$sync$1
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
  wire width 1 $sample$s$complete$sync$1$next
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $not $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $sample$s$complete$sync$1
    connect \Y $13
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  wire width 1 $15
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/ast.py:1369"
  cell $and $16
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $13
    connect \B \spi_registers_complete
    connect \Y $15
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:161"
  wire width 9 $17
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:161"
  wire width 9 $18
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:161"
  cell $add $19
    parameter \A_SIGNED 0
    parameter \A_WIDTH 8
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 9
    connect \A { { \led_7__o } { \led_6__o } { \led_5__o } { \led_4__o } { \led_3__o } { \led_2__o } { \led_1__o } { \led_0__o } }
    connect \B 1'1
    connect \Y $18
  end
  connect $17 $18
  process $group_19
    assign \led_0__o$next \led_0__o
    assign \led_1__o$next \led_1__o
    assign \led_2__o$next \led_2__o
    assign \led_3__o$next \led_3__o
    assign \led_4__o$next \led_4__o
    assign \led_5__o$next \led_5__o
    assign \led_6__o$next \led_6__o
    assign \led_7__o$next \led_7__o
    attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
    switch { $15 }
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:160"
      case 1'1
        assign { { \led_7__o$next } { \led_6__o$next } { \led_5__o$next } { \led_4__o$next } { \led_3__o$next } { \led_2__o$next } { \led_1__o$next } { \led_0__o$next } } $17 [7:0]
    end
    sync init
      update \led_0__o 1'0
      update \led_1__o 1'0
      update \led_2__o 1'0
      update \led_3__o 1'0
      update \led_4__o 1'0
      update \led_5__o 1'0
      update \led_6__o 1'0
      update \led_7__o 1'0
    sync posedge \clk
      update \led_0__o \led_0__o$next
      update \led_1__o \led_1__o$next
      update \led_2__o \led_2__o$next
      update \led_3__o \led_3__o$next
      update \led_4__o \led_4__o$next
      update \led_5__o \led_5__o$next
      update \led_6__o \led_6__o$next
      update \led_7__o \led_7__o$next
  end
  process $group_27
    assign $sample$s$complete$sync$1$next $sample$s$complete$sync$1
    assign $sample$s$complete$sync$1$next \spi_registers_complete
    sync init
      update $sample$s$complete$sync$1 1'0
    sync posedge \clk
      update $sample$s$complete$sync$1 $sample$s$complete$sync$1$next
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.cd_sync"
module \cd_sync
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 output 0 \clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 1 \clk25_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:339"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:339"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'0
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:334"
  wire width 1 \gsr0
  cell \FD1S3AX \U$$0
    parameter \GSR "DISABLED"
    connect \CK \clk25_0__i
    connect \D $1
    connect \Q \gsr0
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:335"
  wire width 1 \gsr1
  cell \FD1S3AX \U$$1
    parameter \GSR "DISABLED"
    connect \CK \clk25_0__i
    connect \D \gsr0
    connect \Q \gsr1
  end
  cell \SGSR \U$$2
    connect \CLK \clk25_0__i
    connect \GSR \gsr1
  end
  process $group_0
    assign \clk 1'0
    assign \clk \clk25_0__i
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_0"
module \pin_led_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  cell \OB \led_0_0
    connect \I \led_0__o
    connect \O \led_0__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_1"
module \pin_led_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_1__io
  cell \OB \led_1_0
    connect \I \led_1__o
    connect \O \led_1__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_2"
module \pin_led_2
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_2__io
  cell \OB \led_2_0
    connect \I \led_2__o
    connect \O \led_2__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_3"
module \pin_led_3
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_3__io
  cell \OB \led_3_0
    connect \I \led_3__o
    connect \O \led_3__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_4"
module \pin_led_4
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_4__io
  cell \OB \led_4_0
    connect \I \led_4__o
    connect \O \led_4__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_5"
module \pin_led_5
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_5__io
  cell \OB \led_5_0
    connect \I \led_5__o
    connect \O \led_5__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_6"
module \pin_led_6
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_6__io
  cell \OB \led_6_0
    connect \I \led_6__o
    connect \O \led_6__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_led_7"
module \pin_led_7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_7__io
  cell \OB \led_7_0
    connect \I \led_7__o
    connect \O \led_7__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__en"
module \pin_esp32_spi_0__en
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__en__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__en__io
  cell \OB \esp32_spi_0__en_0
    connect \I \esp32_spi_0__en__o
    connect \O \esp32_spi_0__en__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__tx"
module \pin_esp32_spi_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__tx__io
  cell \OB \esp32_spi_0__tx_0
    connect \I \esp32_spi_0__tx__o
    connect \O \esp32_spi_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__rx"
module \pin_esp32_spi_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__rx__io
  cell \IB \esp32_spi_0__rx_0
    connect \I \esp32_spi_0__rx__io
    connect \O \esp32_spi_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio0"
module \pin_esp32_spi_0__gpio0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__gpio0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 1 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__oe
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:531"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio0__oe
    connect \Y $1
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \esp32_spi_0__gpio0__i
  cell \BB \esp32_spi_0__gpio0_0
    connect \T { $1 }
    connect \I \esp32_spi_0__gpio0__o
    connect \O \esp32_spi_0__gpio0__i
    connect \B \esp32_spi_0__gpio0__io
  end
  connect \esp32_spi_0__gpio0__oe 1'0
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio4_copi"
module \pin_esp32_spi_0__gpio4_copi
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__gpio4_copi__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__gpio4_copi__io
  cell \IB \esp32_spi_0__gpio4_copi_0
    connect \I \esp32_spi_0__gpio4_copi__io
    connect \O \esp32_spi_0__gpio4_copi__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio5_cs"
module \pin_esp32_spi_0__gpio5_cs
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__gpio5_cs__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \esp32_spi_0__gpio5_cs__i_n
  cell \IB \esp32_spi_0__gpio5_cs_0
    connect \I \esp32_spi_0__gpio5_cs__io
    connect \O \esp32_spi_0__gpio5_cs__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \esp32_spi_0__gpio5_cs__i_n
    connect \Y $1
  end
  process $group_0
    assign \esp32_spi_0__gpio5_cs__i 1'0
    assign \esp32_spi_0__gpio5_cs__i $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio12_cipo"
module \pin_esp32_spi_0__gpio12_cipo
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \esp32_spi_0__gpio12_cipo__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \esp32_spi_0__gpio12_cipo__io
  cell \OB \esp32_spi_0__gpio12_cipo_0
    connect \I \esp32_spi_0__gpio12_cipo__o
    connect \O \esp32_spi_0__gpio12_cipo__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_esp32_spi_0__gpio16_sclk"
module \pin_esp32_spi_0__gpio16_sclk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \esp32_spi_0__gpio16_sclk__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \esp32_spi_0__gpio16_sclk__io
  cell \IB \esp32_spi_0__gpio16_sclk_0
    connect \I \esp32_spi_0__gpio16_sclk__io
    connect \O \esp32_spi_0__gpio16_sclk__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rx"
module \pin_uart_0__rx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rx__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rx__io
  cell \IB \uart_0__rx_0
    connect \I \uart_0__rx__io
    connect \O \uart_0__rx__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__tx"
module \pin_uart_0__tx
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 input 0 \uart_0__tx__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \uart_0__tx__io
  cell \OB \uart_0__tx_0
    connect \I \uart_0__tx__o
    connect \O \uart_0__tx__io
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__rts"
module \pin_uart_0__rts
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__rts__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__rts__io
  cell \IB \uart_0__rts_0
    connect \I \uart_0__rts__io
    connect \O \uart_0__rts__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_uart_0__dtr"
module \pin_uart_0__dtr
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \uart_0__dtr__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \uart_0__dtr__io
  cell \IB \uart_0__dtr_0
    connect \I \uart_0__dtr__io
    connect \O \uart_0__dtr__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_pwr_0"
module \pin_button_pwr_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_pwr_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:464"
  wire width 1 \button_pwr_0__i_n
  cell \IB \button_pwr_0_0
    connect \I \button_pwr_0__io
    connect \O \button_pwr_0__i_n
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  wire width 1 $1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:465"
  cell $not $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \button_pwr_0__i_n
    connect \Y $1
  end
  process $group_0
    assign \button_pwr_0__i 1'0
    assign \button_pwr_0__i $1
    sync init
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_0"
module \pin_button_fire_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_0__io
  cell \IB \button_fire_0_0
    connect \I \button_fire_0__io
    connect \O \button_fire_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_fire_1"
module \pin_button_fire_1
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \button_fire_1__io
  cell \IB \button_fire_1_0
    connect \I \button_fire_1__io
    connect \O \button_fire_1__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_up_0"
module \pin_button_up_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \button_up_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \button_up_0__i
  cell \IB \button_up_0_0
    connect \I \button_up_0__io
    connect \O \button_up_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_down_0"
module \pin_button_down_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \button_down_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \button_down_0__i
  cell \IB \button_down_0_0
    connect \I \button_down_0__io
    connect \O \button_down_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_left_0"
module \pin_button_left_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \button_left_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \button_left_0__i
  cell \IB \button_left_0_0
    connect \I \button_left_0__io
    connect \O \button_left_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_button_right_0"
module \pin_button_right_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 0 \button_right_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \button_right_0__i
  cell \IB \button_right_0_0
    connect \I \button_right_0__io
    connect \O \button_right_0__i
  end
end
attribute \generator "Amaranth"
attribute \amaranth.hierarchy "top.pin_clk25_0"
module \pin_clk25_0
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 output 0 \clk25_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 1 \clk25_0__io
  cell \IB \clk25_0_0
    connect \I \clk25_0__io
    connect \O \clk25_0__i
  end
end
attribute \generator "Amaranth"
attribute \top 1
attribute \amaranth.hierarchy "top"
module \top
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 inout 0 \esp32_spi_0__gpio0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 1 \led_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 2 \led_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 3 \led_2__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 4 \led_3__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 5 \led_4__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 6 \led_5__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 7 \led_6__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 8 \led_7__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 9 \esp32_spi_0__en__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 10 \esp32_spi_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 11 \esp32_spi_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 12 \esp32_spi_0__gpio4_copi__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 13 \esp32_spi_0__gpio5_cs__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 14 \esp32_spi_0__gpio12_cipo__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 15 \esp32_spi_0__gpio16_sclk__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 16 \uart_0__rx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 output 17 \uart_0__tx__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 18 \uart_0__rts__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 19 \uart_0__dtr__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 20 \button_pwr_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 21 \button_fire_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 22 \button_fire_1__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 23 \button_up_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 24 \button_down_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 25 \button_left_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 26 \button_right_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:129"
  wire width 1 input 27 \clk25_0__io
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_0__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_1__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_2__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_3__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_4__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_5__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_6__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_led_7__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/vendor/lattice_ecp5.py:349"
  wire width 1 \dut_clk
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_button_fire_0__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_button_fire_1__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_esp32_spi_0__gpio4_copi__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_esp32_spi_0__gpio12_cipo__o
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_esp32_spi_0__gpio16_sclk__i
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \dut_esp32_spi_0__gpio5_cs__i
  cell \dut \dut
    connect \led_0__o \dut_led_0__o
    connect \led_1__o \dut_led_1__o
    connect \led_2__o \dut_led_2__o
    connect \led_3__o \dut_led_3__o
    connect \led_4__o \dut_led_4__o
    connect \led_5__o \dut_led_5__o
    connect \led_6__o \dut_led_6__o
    connect \led_7__o \dut_led_7__o
    connect \clk \dut_clk
    connect \button_fire_0__i \dut_button_fire_0__i
    connect \button_fire_1__i \dut_button_fire_1__i
    connect \esp32_spi_0__gpio4_copi__i \dut_esp32_spi_0__gpio4_copi__i
    connect \esp32_spi_0__gpio12_cipo__o \dut_esp32_spi_0__gpio12_cipo__o
    connect \esp32_spi_0__gpio16_sclk__i \dut_esp32_spi_0__gpio16_sclk__i
    connect \esp32_spi_0__gpio5_cs__i \dut_esp32_spi_0__gpio5_cs__i
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \cd_sync_clk25_0__i
  cell \cd_sync \cd_sync
    connect \clk \dut_clk
    connect \clk25_0__i \cd_sync_clk25_0__i
  end
  cell \pin_led_0 \pin_led_0
    connect \led_0__o \dut_led_0__o
    connect \led_0__io \led_0__io
  end
  cell \pin_led_1 \pin_led_1
    connect \led_1__o \dut_led_1__o
    connect \led_1__io \led_1__io
  end
  cell \pin_led_2 \pin_led_2
    connect \led_2__o \dut_led_2__o
    connect \led_2__io \led_2__io
  end
  cell \pin_led_3 \pin_led_3
    connect \led_3__o \dut_led_3__o
    connect \led_3__io \led_3__io
  end
  cell \pin_led_4 \pin_led_4
    connect \led_4__o \dut_led_4__o
    connect \led_4__io \led_4__io
  end
  cell \pin_led_5 \pin_led_5
    connect \led_5__o \dut_led_5__o
    connect \led_5__io \led_5__io
  end
  cell \pin_led_6 \pin_led_6
    connect \led_6__o \dut_led_6__o
    connect \led_6__io \led_6__io
  end
  cell \pin_led_7 \pin_led_7
    connect \led_7__o \dut_led_7__o
    connect \led_7__io \led_7__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__en_esp32_spi_0__en__o
  cell \pin_esp32_spi_0__en \pin_esp32_spi_0__en
    connect \esp32_spi_0__en__o \pin_esp32_spi_0__en_esp32_spi_0__en__o
    connect \esp32_spi_0__en__io \esp32_spi_0__en__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
  cell \pin_esp32_spi_0__tx \pin_esp32_spi_0__tx
    connect \esp32_spi_0__tx__o \pin_esp32_spi_0__tx_esp32_spi_0__tx__o
    connect \esp32_spi_0__tx__io \esp32_spi_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
  cell \pin_esp32_spi_0__rx \pin_esp32_spi_0__rx
    connect \esp32_spi_0__rx__i \pin_esp32_spi_0__rx_esp32_spi_0__rx__i
    connect \esp32_spi_0__rx__io \esp32_spi_0__rx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
  cell \pin_esp32_spi_0__gpio0 \pin_esp32_spi_0__gpio0
    connect \esp32_spi_0__gpio0__o \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o
    connect \esp32_spi_0__gpio0__io \esp32_spi_0__gpio0__io
  end
  cell \pin_esp32_spi_0__gpio4_copi \pin_esp32_spi_0__gpio4_copi
    connect \esp32_spi_0__gpio4_copi__i \dut_esp32_spi_0__gpio4_copi__i
    connect \esp32_spi_0__gpio4_copi__io \esp32_spi_0__gpio4_copi__io
  end
  cell \pin_esp32_spi_0__gpio5_cs \pin_esp32_spi_0__gpio5_cs
    connect \esp32_spi_0__gpio5_cs__i \dut_esp32_spi_0__gpio5_cs__i
    connect \esp32_spi_0__gpio5_cs__io \esp32_spi_0__gpio5_cs__io
  end
  cell \pin_esp32_spi_0__gpio12_cipo \pin_esp32_spi_0__gpio12_cipo
    connect \esp32_spi_0__gpio12_cipo__o \dut_esp32_spi_0__gpio12_cipo__o
    connect \esp32_spi_0__gpio12_cipo__io \esp32_spi_0__gpio12_cipo__io
  end
  cell \pin_esp32_spi_0__gpio16_sclk \pin_esp32_spi_0__gpio16_sclk
    connect \esp32_spi_0__gpio16_sclk__i \dut_esp32_spi_0__gpio16_sclk__i
    connect \esp32_spi_0__gpio16_sclk__io \esp32_spi_0__gpio16_sclk__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rx_uart_0__rx__i
  cell \pin_uart_0__rx \pin_uart_0__rx
    connect \uart_0__rx__i \pin_uart_0__rx_uart_0__rx__i
    connect \uart_0__rx__io \uart_0__rx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__tx_uart_0__tx__o
  cell \pin_uart_0__tx \pin_uart_0__tx
    connect \uart_0__tx__o \pin_uart_0__tx_uart_0__tx__o
    connect \uart_0__tx__io \uart_0__tx__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__rts_uart_0__rts__i
  cell \pin_uart_0__rts \pin_uart_0__rts
    connect \uart_0__rts__i \pin_uart_0__rts_uart_0__rts__i
    connect \uart_0__rts__io \uart_0__rts__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_uart_0__dtr_uart_0__dtr__i
  cell \pin_uart_0__dtr \pin_uart_0__dtr
    connect \uart_0__dtr__i \pin_uart_0__dtr_uart_0__dtr__i
    connect \uart_0__dtr__io \uart_0__dtr__io
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/build/res.py:143"
  wire width 1 \pin_button_pwr_0_button_pwr_0__i
  cell \pin_button_pwr_0 \pin_button_pwr_0
    connect \button_pwr_0__i \pin_button_pwr_0_button_pwr_0__i
    connect \button_pwr_0__io \button_pwr_0__io
  end
  cell \pin_button_fire_0 \pin_button_fire_0
    connect \button_fire_0__i \dut_button_fire_0__i
    connect \button_fire_0__io \button_fire_0__io
  end
  cell \pin_button_fire_1 \pin_button_fire_1
    connect \button_fire_1__i \dut_button_fire_1__i
    connect \button_fire_1__io \button_fire_1__io
  end
  cell \pin_button_up_0 \pin_button_up_0
    connect \button_up_0__io \button_up_0__io
  end
  cell \pin_button_down_0 \pin_button_down_0
    connect \button_down_0__io \button_down_0__io
  end
  cell \pin_button_left_0 \pin_button_left_0
    connect \button_left_0__io \button_left_0__io
  end
  cell \pin_button_right_0 \pin_button_right_0
    connect \button_right_0__io \button_right_0__io
  end
  cell \pin_clk25_0 \pin_clk25_0
    connect \clk25_0__i \cd_sync_clk25_0__i
    connect \clk25_0__io \clk25_0__io
  end
  process $group_0
    assign \pin_esp32_spi_0__tx_esp32_spi_0__tx__o 1'0
    assign { \pin_esp32_spi_0__tx_esp32_spi_0__tx__o } { \pin_uart_0__rx_uart_0__rx__i }
    sync init
  end
  process $group_1
    assign \pin_uart_0__tx_uart_0__tx__o 1'0
    assign { \pin_uart_0__tx_uart_0__tx__o } { \pin_esp32_spi_0__rx_esp32_spi_0__rx__i }
    sync init
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $1
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $eq $2
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $1
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $3
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $eq $4
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $3
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $5
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $and $6
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $1
    connect \B $3
    connect \Y $5
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $7
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $8
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $7
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $9
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $10
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $9
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
  wire width 1 $11
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
  cell $and $12
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $7
    connect \B $9
    connect \Y $11
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $13
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $14
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $13
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $15
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $16
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $15
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
  wire width 1 $17
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
  cell $and $18
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $13
    connect \B $15
    connect \Y $17
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $19
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $20
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $19
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $21
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $22
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $21
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
  wire width 1 $23
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
  cell $and $24
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $19
    connect \B $21
    connect \Y $23
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $25
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $not $26
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_button_pwr_0_button_pwr_0__i }
    connect \Y $25
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:377"
  wire width 1 $27
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:377"
  cell $and $28
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $25
    connect \Y $27
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $29
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $not $30
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_button_pwr_0_button_pwr_0__i }
    connect \Y $29
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:380"
  wire width 1 $31
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:380"
  cell $and $32
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $29
    connect \Y $31
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $33
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $not $34
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_button_pwr_0_button_pwr_0__i }
    connect \Y $33
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:383"
  wire width 1 $35
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:383"
  cell $and $36
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'0
    connect \B $33
    connect \Y $35
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $37
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $not $38
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_button_pwr_0_button_pwr_0__i }
    connect \Y $37
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:386"
  wire width 1 $39
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:386"
  cell $and $40
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A 1'1
    connect \B $37
    connect \Y $39
  end
  process $group_2
    assign \pin_esp32_spi_0__en_esp32_spi_0__en__o 1'0
    attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
    switch { $23 $17 $11 $5 }
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
      case 4'---1
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o } $27
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
      case 4'--1-
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o } $31
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
      case 4'-1--
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o } $35
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
      case 4'1---
        assign { \pin_esp32_spi_0__en_esp32_spi_0__en__o } $39
    end
    sync init
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $41
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $eq $42
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__dtr_uart_0__dtr__i
    connect \B 1'1
    connect \Y $41
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $43
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $eq $44
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A \pin_uart_0__rts_uart_0__rts__i
    connect \B 1'1
    connect \Y $43
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  wire width 1 $45
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
  cell $and $46
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $41
    connect \B $43
    connect \Y $45
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $47
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $48
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $47
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $49
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $50
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $49
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
  wire width 1 $51
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
  cell $and $52
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $47
    connect \B $49
    connect \Y $51
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $53
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $54
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'1
    connect \Y $53
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $55
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $56
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'0
    connect \Y $55
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
  wire width 1 $57
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
  cell $and $58
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $53
    connect \B $55
    connect \Y $57
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $59
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $60
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__dtr_uart_0__dtr__i }
    connect \B 1'0
    connect \Y $59
  end
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  wire width 1 $61
  attribute \src "/home/ubuntu/Documents/venv_fpga/lib/python3.8/site-packages/amaranth/hdl/rec.py:258"
  cell $eq $62
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A { \pin_uart_0__rts_uart_0__rts__i }
    connect \B 1'1
    connect \Y $61
  end
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
  wire width 1 $63
  attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
  cell $and $64
    parameter \A_SIGNED 0
    parameter \A_WIDTH 1
    parameter \B_SIGNED 0
    parameter \B_WIDTH 1
    parameter \Y_WIDTH 1
    connect \A $59
    connect \B $61
    connect \Y $63
  end
  process $group_3
    assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'0
    attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
    switch { $63 $57 $51 $45 }
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:376"
      case 4'---1
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'1
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:379"
      case 4'--1-
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'1
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:382"
      case 4'-1--
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'1
      attribute \src "tests/ulx3s_gui_test/fpga_gateware/test_sdram_n_fifo_interface_IS42S16160G/test4_ila_with_fifos.py:385"
      case 4'1---
        assign \pin_esp32_spi_0__gpio0_esp32_spi_0__gpio0__o 1'0
    end
    sync init
  end
end
